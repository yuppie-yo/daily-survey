{"version":3,"file":"c3ecb1f97f7ae59c6dbd.chunk.js","mappings":"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","sources":["webpack://superset/./plugins/legacy-plugin-chart-heatmap/src/Heatmap.js","webpack://superset/./plugins/legacy-plugin-chart-heatmap/src/ReactHeatmap.jsx","webpack://superset/./node_modules/d3-svg-legend/index.js","webpack://superset/./node_modules/d3-svg-legend/no-extend.js","webpack://superset/./node_modules/d3-svg-legend/src/color.js","webpack://superset/./node_modules/d3-svg-legend/src/legend.js","webpack://superset/./node_modules/d3-svg-legend/src/size.js","webpack://superset/./node_modules/d3-svg-legend/src/symbol.js","webpack://superset/./packages/superset-ui-core/src/chart/components/reactify.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable func-names, react/sort-prop-types */\nimport d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport 'd3-svg-legend';\nimport d3tip from 'd3-tip';\nimport {\n  getColumnLabel,\n  getMetricLabel,\n  getNumberFormatter,\n  NumberFormats,\n  getSequentialSchemeRegistry,\n} from '@superset-ui/core';\n\nconst propTypes = {\n  data: PropTypes.shape({\n    records: PropTypes.arrayOf(\n      PropTypes.shape({\n        x: PropTypes.string,\n        y: PropTypes.string,\n        v: PropTypes.number,\n        perc: PropTypes.number,\n        rank: PropTypes.number,\n      }),\n    ),\n    extents: PropTypes.arrayOf(PropTypes.number),\n  }),\n  width: PropTypes.number,\n  height: PropTypes.number,\n  bottomMargin: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  colorScheme: PropTypes.string,\n  columnX: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  columnY: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  leftMargin: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  metric: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  normalized: PropTypes.bool,\n  valueFormatter: PropTypes.object,\n  showLegend: PropTypes.bool,\n  showPercentage: PropTypes.bool,\n  showValues: PropTypes.bool,\n  sortXAxis: PropTypes.string,\n  sortYAxis: PropTypes.string,\n  xScaleInterval: PropTypes.number,\n  yScaleInterval: PropTypes.number,\n  yAxisBounds: PropTypes.arrayOf(PropTypes.number),\n};\n\nfunction cmp(a, b) {\n  return a > b ? 1 : -1;\n}\n\nconst DEFAULT_PROPERTIES = {\n  minChartWidth: 150,\n  minChartHeight: 150,\n  marginLeft: 35,\n  marginBottom: 35,\n  marginTop: 10,\n  marginRight: 10,\n};\n\n// Inspired from http://bl.ocks.org/mbostock/3074470\n// https://jsfiddle.net/cyril123/h0reyumq/\nfunction Heatmap(element, props) {\n  const {\n    data,\n    width,\n    height,\n    bottomMargin,\n    canvasImageRendering,\n    colorScheme,\n    columnX,\n    columnY,\n    leftMargin,\n    metric,\n    normalized,\n    valueFormatter,\n    showLegend,\n    showPercentage,\n    showValues,\n    sortXAxis,\n    sortYAxis,\n    xScaleInterval,\n    yScaleInterval,\n    yAxisBounds,\n    xAxisFormatter,\n    yAxisFormatter,\n  } = props;\n\n  const { extents } = data;\n  const records = data.records.map(record => ({\n    ...record,\n    x: xAxisFormatter(record.x),\n    y: yAxisFormatter(record.y),\n  }));\n\n  const margin = {\n    top: 10,\n    right: 10,\n    bottom: 35,\n    left: 35,\n  };\n\n  let showY = true;\n  let showX = true;\n  const pixelsPerCharX = 4.5; // approx, depends on font size\n  let pixelsPerCharY = 6; // approx, depends on font size\n\n  // Dynamically adjusts  based on max x / y category lengths\n  function adjustMargins() {\n    let longestX = 1;\n    let longestY = 1;\n\n    records.forEach(datum => {\n      if (typeof datum.y === 'number') pixelsPerCharY = 7;\n      longestX = Math.max(\n        longestX,\n        (datum.x && datum.x.toString().length) || 1,\n      );\n      longestY = Math.max(\n        longestY,\n        (datum.y && datum.y.toString().length) || 1,\n      );\n    });\n\n    if (leftMargin === 'auto') {\n      margin.left = Math.ceil(Math.max(margin.left, pixelsPerCharY * longestY));\n    } else {\n      margin.left = leftMargin;\n    }\n\n    if (showLegend) {\n      margin.right += 40;\n    }\n\n    margin.bottom =\n      bottomMargin === 'auto'\n        ? Math.ceil(Math.max(margin.bottom, pixelsPerCharX * longestX))\n        : bottomMargin;\n  }\n\n  // Check if x axis \"x\" position is outside of the container and rotate labels 90deg\n  function checkLabelPosition(container) {\n    const xAxisNode = container.select('.x.axis').node();\n\n    if (!xAxisNode) {\n      return;\n    }\n\n    if (\n      xAxisNode.getBoundingClientRect().x + 4 <\n      container.node().getBoundingClientRect().x\n    ) {\n      container\n        .selectAll('.x.axis')\n        .selectAll('text')\n        .attr('transform', 'rotate(-90)')\n        .attr('x', -6)\n        .attr('y', 0)\n        .attr('dy', '0.3em');\n    }\n  }\n\n  function ordScale(k, rangeBands, sortMethod, formatter) {\n    let domain = {};\n    records.forEach(d => {\n      domain[d[k]] = (domain[d[k]] || 0) + d.v;\n    });\n    const keys = Object.keys(domain).map(k => formatter(k));\n    if (sortMethod === 'alpha_asc') {\n      domain = keys.sort(cmp);\n    } else if (sortMethod === 'alpha_desc') {\n      domain = keys.sort(cmp).reverse();\n    } else if (sortMethod === 'value_desc') {\n      domain = Object.keys(domain).sort((a, b) =>\n        domain[a] > domain[b] ? -1 : 1,\n      );\n    } else if (sortMethod === 'value_asc') {\n      domain = Object.keys(domain).sort((a, b) =>\n        domain[b] > domain[a] ? -1 : 1,\n      );\n    }\n\n    if (k === 'y' && rangeBands) {\n      domain.reverse();\n    }\n\n    if (rangeBands) {\n      return d3.scale.ordinal().domain(domain).rangeBands(rangeBands);\n    }\n\n    return d3.scale.ordinal().domain(domain).range(d3.range(domain.length));\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  element.innerHTML = '';\n  const matrix = {};\n\n  adjustMargins();\n\n  let hmWidth = width - (margin.left + margin.right);\n  let hmHeight = height - (margin.bottom + margin.top);\n  const hideYLabel = () => {\n    margin.left =\n      leftMargin === 'auto' ? DEFAULT_PROPERTIES.marginLeft : leftMargin;\n    hmWidth = width - (margin.left + margin.right);\n    showY = false;\n  };\n\n  const hideXLabel = () => {\n    margin.bottom =\n      bottomMargin === 'auto' ? DEFAULT_PROPERTIES.marginBottom : bottomMargin;\n    hmHeight = height - (margin.bottom + margin.top);\n    showX = false;\n  };\n\n  // Hide Y Labels\n  if (hmWidth < DEFAULT_PROPERTIES.minChartWidth) {\n    hideYLabel();\n  }\n\n  // Hide X Labels\n  if (\n    hmHeight < DEFAULT_PROPERTIES.minChartHeight ||\n    hmWidth < DEFAULT_PROPERTIES.minChartWidth\n  ) {\n    hideXLabel();\n  }\n\n  if (showY && hmHeight < DEFAULT_PROPERTIES.minChartHeight) {\n    hideYLabel();\n  }\n\n  const fp = getNumberFormatter(NumberFormats.PERCENT_2_POINT);\n\n  const xScale = ordScale('x', null, sortXAxis, xAxisFormatter);\n  const yScale = ordScale('y', null, sortYAxis, yAxisFormatter);\n  const xRbScale = ordScale('x', [0, hmWidth], sortXAxis, xAxisFormatter);\n  const yRbScale = ordScale('y', [hmHeight, 0], sortYAxis, yAxisFormatter);\n  const X = 0;\n  const Y = 1;\n  const heatmapDim = [xRbScale.domain().length, yRbScale.domain().length];\n\n  const minBound = yAxisBounds[0] || 0;\n  const maxBound = yAxisBounds[1] || 1;\n  const colorScale = getSequentialSchemeRegistry()\n    .get(colorScheme)\n    .createLinearScale([minBound, maxBound]);\n\n  const scale = [\n    d3.scale.linear().domain([0, heatmapDim[X]]).range([0, hmWidth]),\n    d3.scale.linear().domain([0, heatmapDim[Y]]).range([0, hmHeight]),\n  ];\n\n  const container = d3.select(element);\n  container.classed('superset-legacy-chart-heatmap', true);\n\n  const canvas = container\n    .append('canvas')\n    .attr('width', heatmapDim[X])\n    .attr('height', heatmapDim[Y])\n    .style('width', `${hmWidth}px`)\n    .style('height', `${hmHeight}px`)\n    .style('image-rendering', canvasImageRendering)\n    .style('left', `${margin.left}px`)\n    .style('top', `${margin.top}px`)\n    .style('position', 'absolute');\n\n  const svg = container\n    .append('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('class', 'heatmap-container')\n    .style('position', 'relative');\n\n  if (showValues) {\n    const cells = svg\n      .selectAll('rect')\n      .data(records)\n      .enter()\n      .append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    cells\n      .append('text')\n      .attr('transform', d => `translate(${xRbScale(d.x)}, ${yRbScale(d.y)})`)\n      .attr('y', yRbScale.rangeBand() / 2)\n      .attr('x', xRbScale.rangeBand() / 2)\n      .attr('text-anchor', 'middle')\n      .attr('dy', '.35em')\n      .text(d => valueFormatter(d.v))\n      .attr(\n        'font-size',\n        `${Math.min(yRbScale.rangeBand(), xRbScale.rangeBand()) / 3}px`,\n      )\n      .attr('fill', d => (d.v >= extents[1] / 2 ? 'white' : 'black'));\n  }\n\n  if (showLegend) {\n    const colorLegend = d3.legend\n      .color()\n      .labelFormat(valueFormatter)\n      .scale(colorScale)\n      .shapePadding(0)\n      .cells(10)\n      .shapeWidth(10)\n      .shapeHeight(10)\n      .labelOffset(3);\n\n    svg\n      .append('g')\n      .attr('transform', `translate(${width - 40}, ${margin.top})`)\n      .call(colorLegend);\n  }\n\n  const tip = d3tip()\n    .attr('class', 'd3-tip')\n    .offset(function () {\n      const k = d3.mouse(this);\n      const x = k[0] - hmWidth / 2;\n\n      return [k[1] - 20, x];\n    })\n    .html(function () {\n      let s = '';\n      const k = d3.mouse(this);\n      const m = Math.floor(scale[0].invert(k[0]));\n      const n = Math.floor(scale[1].invert(k[1]));\n      if (m in matrix && n in matrix[m]) {\n        const obj = matrix[m][n];\n        s += `<div><b>${getColumnLabel(columnX)}: </b>${obj.x}<div>`;\n        s += `<div><b>${getColumnLabel(columnY)}: </b>${obj.y}<div>`;\n        s += `<div><b>${getMetricLabel(metric)}: </b>${valueFormatter(\n          obj.v,\n        )}<div>`;\n        if (showPercentage) {\n          s += `<div><b>%: </b>${fp(normalized ? obj.rank : obj.perc)}<div>`;\n        }\n        tip.style('display', null);\n      } else {\n        // this is a hack to hide the tooltip because we have map it to a single <rect>\n        // d3-tip toggles opacity and calling hide here is undone by the lib after this call\n        tip.style('display', 'none');\n      }\n\n      return s;\n    });\n\n  const rect = svg\n    .append('g')\n    .attr('transform', `translate(${margin.left}, ${margin.top})`)\n    .append('rect')\n    .classed('background-rect', true)\n    .on('mousemove', tip.show)\n    .on('mouseout', tip.hide)\n    .attr('width', hmWidth)\n    .attr('height', hmHeight);\n\n  rect.call(tip);\n\n  if (showX) {\n    const xAxis = d3.svg\n      .axis()\n      .scale(xRbScale)\n      .outerTickSize(0)\n      .tickValues(xRbScale.domain().filter((d, i) => !(i % xScaleInterval)))\n      .orient('bottom');\n\n    svg\n      .append('g')\n      .attr('class', 'x axis')\n      .attr('transform', `translate(${margin.left},${margin.top + hmHeight})`)\n      .call(xAxis)\n      .selectAll('text')\n      .attr('x', -4)\n      .attr('y', 10)\n      .attr('dy', '0.3em')\n      .style('text-anchor', 'end')\n      .attr('transform', 'rotate(-45)');\n  }\n\n  if (showY) {\n    const yAxis = d3.svg\n      .axis()\n      .scale(yRbScale)\n      .outerTickSize(0)\n      .tickValues(yRbScale.domain().filter((d, i) => !(i % yScaleInterval)))\n      .orient('left');\n\n    svg\n      .append('g')\n      .attr('class', 'y axis')\n      .attr('transform', `translate(${margin.left},${margin.top})`)\n      .call(yAxis);\n  }\n\n  checkLabelPosition(container);\n  const context = canvas.node().getContext('2d');\n  context.imageSmoothingEnabled = false;\n\n  // Compute the pixel colors; scaled by CSS.\n  function createImageObj() {\n    const imageObj = new Image();\n    const image = context.createImageData(heatmapDim[0], heatmapDim[1]);\n    const pixs = {};\n    records.forEach(d => {\n      const c = d3.rgb(colorScale(normalized ? d.rank : d.perc));\n      const x = xScale(d.x);\n      const y = yScale(d.y);\n      pixs[x + y * xScale.domain().length] = c;\n      if (matrix[x] === undefined) {\n        matrix[x] = {};\n      }\n      if (matrix[x][y] === undefined) {\n        matrix[x][y] = d;\n      }\n    });\n\n    let p = 0;\n    for (let i = 0; i < heatmapDim[0] * heatmapDim[1]; i += 1) {\n      let c = pixs[i];\n      let alpha = 255;\n      if (c === undefined) {\n        c = d3.rgb('#F00');\n        alpha = 0;\n      }\n      image.data[p + 0] = c.r;\n      image.data[p + 1] = c.g;\n      image.data[p + 2] = c.b;\n      image.data[p + 3] = alpha;\n      p += 4;\n    }\n    context.putImageData(image, 0, 0);\n    imageObj.src = canvas.node().toDataURL();\n  }\n  createImageObj();\n}\n\nHeatmap.displayName = 'Heatmap';\nHeatmap.propTypes = propTypes;\n\nexport default Heatmap;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { reactify, css, styled } from '@superset-ui/core';\nimport { Global } from '@emotion/react';\nimport Component from './Heatmap';\n\nfunction componentWillUnmount() {\n  // Removes tooltips from the DOM\n  document.querySelectorAll('.d3-tip').forEach(t => t.remove());\n}\n\nconst ReactComponent = reactify(Component, { componentWillUnmount });\n\nconst Heatmap = ({ className, ...otherProps }) => (\n  <div className={className}>\n    <Global\n      styles={theme => css`\n        .d3-tip {\n          line-height: 1;\n          padding: ${theme.gridUnit * 3}px;\n          background: ${theme.colors.grayscale.dark2};\n          color: ${theme.colors.grayscale.light5};\n          border-radius: 4px;\n          pointer-events: none;\n          z-index: 1000;\n          font-size: ${theme.typography.sizes.s}px;\n        }\n\n        /* Creates a small triangle extender for the tooltip */\n        .d3-tip:after {\n          box-sizing: border-box;\n          display: inline;\n          font-size: ${theme.typography.sizes.xs};\n          width: 100%;\n          line-height: 1;\n          color: ${theme.colors.grayscale.dark2};\n          position: absolute;\n          pointer-events: none;\n        }\n\n        /* Northward tooltips */\n        .d3-tip.n:after {\n          content: '\\\\25BC';\n          margin: -${theme.gridUnit}px 0 0 0;\n          top: 100%;\n          left: 0;\n          text-align: center;\n        }\n\n        /* Eastward tooltips */\n        .d3-tip.e:after {\n          content: '\\\\25C0';\n          margin: -${theme.gridUnit}px 0 0 0;\n          top: 50%;\n          left: -${theme.gridUnit * 2}px;\n        }\n\n        /* Southward tooltips */\n        .d3-tip.s:after {\n          content: '\\\\25B2';\n          margin: 0;\n          top: -${theme.gridUnit * 2}px;\n          left: 0;\n          text-align: center;\n        }\n\n        /* Westward tooltips */\n        .d3-tip.w:after {\n          content: '\\\\25B6';\n          margin: -${theme.gridUnit}px 0 0 0px;\n          top: 50%;\n          left: 100%;\n        }\n      `}\n    />\n    <ReactComponent {...otherProps} />\n  </div>\n);\n\nexport default styled(Heatmap)`\n  ${({ theme }) => `\n    .superset-legacy-chart-heatmap {\n      position: relative;\n      top: 0;\n      left: 0;\n      height: 100%;\n    }\n\n    .superset-legacy-chart-heatmap .axis text {\n      font-size: ${theme.typography.sizes.xs}px;\n      text-rendering: optimizeLegibility;\n    }\n\n    .superset-legacy-chart-heatmap .background-rect {\n      stroke: ${theme.colors.grayscale.light2};\n      fill-opacity: 0;\n      pointer-events: all;\n    }\n\n    .superset-legacy-chart-heatmap .axis path,\n    .superset-legacy-chart-heatmap .axis line {\n      fill: none;\n      stroke: ${theme.colors.grayscale.light2};\n      shape-rendering: crispEdges;\n    }\n\n    .superset-legacy-chart-heatmap canvas,\n    .superset-legacy-chart-heatmap img {\n      image-rendering: optimizeSpeed; /* Older versions of FF */\n      image-rendering: -moz-crisp-edges; /* FF 6.0+ */\n      image-rendering: -webkit-optimize-contrast; /* Safari */\n      image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n      image-rendering: pixelated; /* Awesome future-browsers */\n      -ms-interpolation-mode: nearest-neighbor; /* IE */\n    }\n\n    .superset-legacy-chart-heatmap .legendCells text {\n      font-size: ${theme.typography.sizes.xs}px;\n      font-weight: ${theme.typography.weights.normal};\n      opacity: 0;\n    }\n\n    .superset-legacy-chart-heatmap .legendCells .cell:first-child text {\n      opacity: 1;\n    }\n\n    .superset-legacy-chart-heatmap .legendCells .cell:last-child text {\n      opacity: 1;\n    }\n\n    .dashboard .superset-legacy-chart-heatmap .axis text {\n      font-size: ${theme.typography.sizes.xs}px;\n      opacity: ${theme.opacity.heavy};\n    }\n  `}\n`;\n","var d3 = require('d3');\n\nd3.legend = require('./no-extend');\n\nmodule.exports = d3;\n","module.exports = {\n  color: require('./src/color'),\n  size: require('./src/size'),\n  symbol: require('./src/symbol')\n};\n","var helper = require('./legend');\n\nmodule.exports = function(){\n\n  var scale = d3.scale.linear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 2,\n    cells = [5],\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    labelFormat = d3.format(\".01f\"),\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n\n      var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\n\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix)\n\n      // sets placement\n      var text = cell.select(\"text\"),\n        shapeSize = shapes[0].map( function(d){ return d.getBBox(); });\n\n      //sets scale\n      //everything is fill except for line which is stroke,\n      if (!useClass){\n        if (shape == \"line\"){\n          shapes.style(\"stroke\", type.feature);\n        } else {\n          shapes.style(\"fill\", type.feature);\n        }\n      } else {\n        shapes.attr(\"class\", function(d){ return classPrefix + \"swatch \" + type.feature(d); });\n      }\n\n      var cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        cellTrans = function(d,i) { return \"translate(0, \" + (i * (shapeSize[i].height + shapePadding)) + \")\"; };\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width + shapeSize[i].x +\n          labelOffset) + \",\" + (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = function(d,i) { return \"translate(\" + (i * (shapeSize[i].width + shapePadding)) + \",0)\"; }\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) +\n          \",\" + (shapeSize[i].height + shapeSize[i].y + labelOffset + 8) + \")\"; };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, legendG, title, classPrefix);\n\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || (_ == \"path\" && (typeof d === 'string')) ){\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapeHeight = function(_) {\n    if (!arguments.length) return shapeHeight;\n    shapeHeight = +_;\n    return legend;\n  };\n\n  legend.shapeRadius = function(_) {\n    if (!arguments.length) return shapeRadius;\n    shapeRadius = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.useClass = function(_) {\n    if (!arguments.length) return useClass;\n    if (_ === true || _ === false){\n      useClass = _;\n    }\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  d3.rebind(legend, legendDispatcher, \"on\");\n\n  return legend;\n\n};\n","module.exports = {\n\n  d3_identity: function (d) {\n    return d;\n  },\n\n  d3_mergeLabels: function (gen, labels) {\n\n      if(labels.length === 0) return gen;\n\n      gen = (gen) ? gen : [];\n\n      var i = labels.length;\n      for (; i < gen.length; i++) {\n        labels.push(gen[i]);\n      }\n      return labels;\n    },\n\n  d3_linearLegend: function (scale, cells, labelFormat) {\n    var data = [];\n\n    if (cells.length > 1){\n      data = cells;\n\n    } else {\n      var domain = scale.domain(),\n      increment = (domain[domain.length - 1] - domain[0])/(cells - 1),\n      i = 0;\n\n      for (; i < cells; i++){\n        data.push(domain[0] + i*increment);\n      }\n    }\n\n    var labels = data.map(labelFormat);\n\n    return {data: data,\n            labels: labels,\n            feature: function(d){ return scale(d); }};\n  },\n\n  d3_quantLegend: function (scale, labelFormat, labelDelimiter) {\n    var labels = scale.range().map(function(d){\n      var invert = scale.invertExtent(d),\n      a = labelFormat(invert[0]),\n      b = labelFormat(invert[1]);\n\n      // if (( (a) && (a.isNan()) && b){\n      //   console.log(\"in initial statement\")\n        return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\n      // } else if (a || b) {\n      //   console.log('in else statement')\n      //   return (a) ? a : b;\n      // }\n\n    });\n\n    return {data: scale.range(),\n            labels: labels,\n            feature: this.d3_identity\n          };\n  },\n\n  d3_ordinalLegend: function (scale) {\n    return {data: scale.domain(),\n            labels: scale.domain(),\n            feature: function(d){ return scale(d); }};\n  },\n\n  d3_drawShapes: function (shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) {\n    if (shape === \"rect\"){\n        shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth);\n\n    } else if (shape === \"circle\") {\n        shapes.attr(\"r\", shapeRadius)//.attr(\"cx\", shapeRadius).attr(\"cy\", shapeRadius);\n\n    } else if (shape === \"line\") {\n        shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\n\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path);\n    }\n  },\n\n  d3_addText: function (svg, enter, labels, classPrefix){\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\n    svg.selectAll(\"g.\" + classPrefix + \"cell text.\" + classPrefix + \"label\")\n      .data(labels).text(this.d3_identity);\n  },\n\n  d3_calcType: function (scale, ascending, cells, labels, labelFormat, labelDelimiter){\n    var type = scale.ticks ?\n            this.d3_linearLegend(scale, cells, labelFormat) : scale.invertExtent ?\n            this.d3_quantLegend(scale, labelFormat, labelDelimiter) : this.d3_ordinalLegend(scale);\n\n    type.labels = this.d3_mergeLabels(type.labels, labels);\n\n    if (ascending) {\n      type.labels = this.d3_reverse(type.labels);\n      type.data = this.d3_reverse(type.data);\n    }\n\n    return type;\n  },\n\n  d3_reverse: function(arr) {\n    var mirror = [];\n    for (var i = 0, l = arr.length; i < l; i++) {\n      mirror[i] = arr[l-i-1];\n    }\n    return mirror;\n  },\n\n  d3_placement: function (orient, cell, cellTrans, text, textTrans, labelAlign) {\n    cell.attr(\"transform\", cellTrans);\n    text.attr(\"transform\", textTrans);\n    if (orient === \"horizontal\"){\n      text.style(\"text-anchor\", labelAlign);\n    }\n  },\n\n  d3_addEvents: function(cells, dispatcher){\n    var _ = this;\n\n      cells.on(\"mouseover.legend\", function (d) { _.d3_cellOver(dispatcher, d, this); })\n          .on(\"mouseout.legend\", function (d) { _.d3_cellOut(dispatcher, d, this); })\n          .on(\"click.legend\", function (d) { _.d3_cellClick(dispatcher, d, this); });\n  },\n\n  d3_cellOver: function(cellDispatcher, d, obj){\n    cellDispatcher.cellover.call(obj, d);\n  },\n\n  d3_cellOut: function(cellDispatcher, d, obj){\n    cellDispatcher.cellout.call(obj, d);\n  },\n\n  d3_cellClick: function(cellDispatcher, d, obj){\n    cellDispatcher.cellclick.call(obj, d);\n  },\n\n  d3_title: function(svg, cellsSvg, title, classPrefix){\n    if (title !== \"\"){\n\n      var titleText = svg.selectAll('text.' + classPrefix + 'legendTitle');\n\n      titleText.data([title])\n        .enter()\n        .append('text')\n        .attr('class', classPrefix + 'legendTitle');\n\n        svg.selectAll('text.' + classPrefix + 'legendTitle')\n            .text(title)\n\n      var yOffset = svg.select('.' + classPrefix + 'legendTitle')\n          .map(function(d) { return d[0].getBBox().height})[0],\n      xOffset = -cellsSvg.map(function(d) { return d[0].getBBox().x})[0];\n\n      cellsSvg.attr('transform', 'translate(' + xOffset + ',' + (yOffset + 10) + ')');\n\n    }\n  }\n}\n","var helper = require('./legend');\n\nmodule.exports =  function(){\n\n  var scale = d3.scale.linear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapePadding = 2,\n    cells = [5],\n    labels = [],\n    useStroke = false,\n    classPrefix = \"\",\n    title = \"\",\n    labelFormat = d3.format(\".01f\"),\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n\n      var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      //creates shape\n      if (shape === \"line\"){\n        helper.d3_drawShapes(shape, shapes, 0, shapeWidth);\n        shapes.attr(\"stroke-width\", type.feature);\n      } else {\n        helper.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\n      }\n\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix)\n\n      //sets placement\n      var text = cell.select(\"text\"),\n        shapeSize = shapes[0].map(\n          function(d, i){\n            var bbox = d.getBBox()\n            var stroke = scale(type.data[i]);\n\n            if (shape === \"line\" && orient === \"horizontal\") {\n              bbox.height = bbox.height + stroke;\n            } else if (shape === \"line\" && orient === \"vertical\"){\n              bbox.width = bbox.width;\n            }\n\n            return bbox;\n        });\n\n      var maxH = d3.max(shapeSize, function(d){ return d.height + d.y; }),\n      maxW = d3.max(shapeSize, function(d){ return d.width + d.x; });\n\n      var cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n\n        cellTrans = function(d,i) {\n            var height = d3.sum(shapeSize.slice(0, i + 1 ), function(d){ return d.height; });\n            return \"translate(0, \" + (height + i*shapePadding) + \")\"; };\n\n        textTrans = function(d,i) { return \"translate(\" + (maxW + labelOffset) + \",\" +\n          (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = function(d,i) {\n            var width = d3.sum(shapeSize.slice(0, i + 1 ), function(d){ return d.width; });\n            return \"translate(\" + (width + i*shapePadding) + \",0)\"; };\n\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) + \",\" +\n              (maxH + labelOffset ) + \")\"; };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, legendG, title, classPrefix);\n\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" ){\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  d3.rebind(legend, legendDispatcher, \"on\");\n\n  return legend;\n\n};\n","var helper = require('./legend');\n\nmodule.exports = function(){\n\n  var scale = d3.scale.linear(),\n    shape = \"path\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 5,\n    cells = [5],\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    labelFormat = d3.format(\".01f\"),\n    labelAlign = \"middle\",\n    labelOffset = 10,\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n      var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      //remove old shapes\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix)\n\n      // sets placement\n      var text = cell.select(\"text\"),\n        shapeSize = shapes[0].map( function(d){ return d.getBBox(); });\n\n      var maxH = d3.max(shapeSize, function(d){ return d.height; }),\n      maxW = d3.max(shapeSize, function(d){ return d.width; });\n\n      var cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        cellTrans = function(d,i) { return \"translate(0, \" + (i * (maxH + shapePadding)) + \")\"; };\n        textTrans = function(d,i) { return \"translate(\" + (maxW + labelOffset) + \",\" +\n              (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = function(d,i) { return \"translate(\" + (i * (maxW + shapePadding)) + \",0)\"; };\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) + \",\" +\n              (maxH + labelOffset ) + \")\"; };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, legendG, title, classPrefix);\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  d3.rebind(legend, legendDispatcher, \"on\");\n\n  return legend;\n\n};\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n// eslint-disable-next-line no-restricted-syntax -- whole React import is required for `reactify.test.tsx` Jest test passing.\nimport React, { Component, ComponentClass, WeakValidationMap } from 'react';\n\n// TODO: Note that id and className can collide between Props and ReactifyProps\n// leading to (likely) unexpected behaviors. We should either require Props to not\n// contain an id/className, or not combine them (via intersection), instead preferring\n// wrapping (composition). As an example:\n// interface MyProps {\n//   id: number;\n// }\n// function myRender(container: HTMLDivElement, props: Readonly<MyProps>): void {\n//   props.id // unusable: id is string & number\n// }\n// new (reactify(myRender))({ id: 5 }); // error: id has to be string & number\n\nexport type ReactifyProps = {\n  id?: string;\n  className?: string;\n};\n\n// TODO: add more React lifecycle callbacks as needed\nexport type LifeCycleCallbacks = {\n  componentWillUnmount?: () => void;\n};\n\nexport interface RenderFuncType<Props> {\n  (container: HTMLDivElement, props: Readonly<Props & ReactifyProps>): void;\n  displayName?: string;\n  defaultProps?: Partial<Props & ReactifyProps>;\n  propTypes?: WeakValidationMap<Props & ReactifyProps>;\n}\n\nexport default function reactify<Props extends object>(\n  renderFn: RenderFuncType<Props>,\n  callbacks?: LifeCycleCallbacks,\n): ComponentClass<Props & ReactifyProps> {\n  class ReactifiedComponent extends Component<Props & ReactifyProps> {\n    container?: HTMLDivElement;\n\n    constructor(props: Props & ReactifyProps) {\n      super(props);\n      this.setContainerRef = this.setContainerRef.bind(this);\n    }\n\n    componentDidMount() {\n      this.execute();\n    }\n\n    componentDidUpdate() {\n      this.execute();\n    }\n\n    componentWillUnmount() {\n      this.container = undefined;\n      if (callbacks?.componentWillUnmount) {\n        callbacks.componentWillUnmount.bind(this)();\n      }\n    }\n\n    setContainerRef(ref: HTMLDivElement) {\n      this.container = ref;\n    }\n\n    execute() {\n      if (this.container) {\n        renderFn(this.container, this.props);\n      }\n    }\n\n    render() {\n      const { id, className } = this.props;\n\n      return <div ref={this.setContainerRef} id={id} className={className} />;\n    }\n  }\n\n  const ReactifiedClass: ComponentClass<Props & ReactifyProps> =\n    ReactifiedComponent;\n\n  if (renderFn.displayName) {\n    ReactifiedClass.displayName = renderFn.displayName;\n  }\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  if (renderFn.propTypes) {\n    ReactifiedClass.propTypes = {\n      ...ReactifiedClass.propTypes,\n      ...renderFn.propTypes,\n    };\n  }\n  if (renderFn.defaultProps) {\n    ReactifiedClass.defaultProps = renderFn.defaultProps;\n  }\n\n  return ReactifiedComponent;\n}\n"],"names":["propTypes","data","PropTypes","records","x","y","v","perc","rank","extents","width","height","bottomMargin","colorScheme","columnX","columnY","leftMargin","metric","normalized","valueFormatter","showLegend","showPercentage","showValues","sortXAxis","sortYAxis","xScaleInterval","yScaleInterval","yAxisBounds","cmp","a","b","Heatmap","element","props","canvasImageRendering","xAxisFormatter","yAxisFormatter","map","record","margin","top","right","bottom","left","showY","showX","pixelsPerCharY","ordScale","k","rangeBands","sortMethod","formatter","domain","forEach","d","keys","Object","sort","reverse","d3","ordinal","range","length","innerHTML","matrix","longestX","longestY","datum","Math","max","toString","ceil","adjustMargins","hmWidth","hmHeight","hideYLabel","fp","getNumberFormatter","NumberFormats","PERCENT_2_POINT","xScale","yScale","xRbScale","yRbScale","heatmapDim","minBound","maxBound","colorScale","getSequentialSchemeRegistry","get","createLinearScale","scale","linear","container","classed","canvas","append","attr","style","svg","selectAll","enter","rangeBand","text","min","colorLegend","color","labelFormat","shapePadding","cells","shapeWidth","shapeHeight","labelOffset","call","tip","d3tip","offset","this","html","s","m","floor","invert","n","obj","getColumnLabel","getMetricLabel","on","show","hide","xAxis","axis","outerTickSize","tickValues","filter","i","orient","yAxis","xAxisNode","select","node","getBoundingClientRect","checkLabelPosition","context","getContext","imageSmoothingEnabled","imageObj","Image","image","createImageData","pixs","c","undefined","p","alpha","r","g","putImageData","src","toDataURL","createImageObj","displayName","ReactComponent","reactify","Component","componentWillUnmount","document","querySelectorAll","t","remove","styled","className","otherProps","_jsxs","children","_jsx","Global","styles","theme","css","gridUnit","colors","grayscale","dark2","light5","typography","sizes","xs","light2","weights","normal","opacity","heavy","legend","module","exports","size","symbol","helper","path","shape","shapeRadius","labels","classPrefix","useClass","title","format","labelAlign","labelDelimiter","ascending","legendDispatcher","dispatch","type","d3_calcType","legendG","cell","cellEnter","shapes","d3_addEvents","exit","transition","d3_drawShapes","d3_addText","shapeSize","getBBox","feature","cellTrans","textTrans","textAlign","d3_placement","d3_title","_","arguments","toLowerCase","rebind","d3_identity","d3_mergeLabels","gen","push","d3_linearLegend","increment","d3_quantLegend","invertExtent","d3_ordinalLegend","ticks","d3_reverse","arr","mirror","l","dispatcher","d3_cellOver","d3_cellOut","d3_cellClick","cellDispatcher","cellover","cellout","cellclick","cellsSvg","yOffset","xOffset","bbox","stroke","maxH","maxW","sum","slice","renderFn","callbacks","ReactifiedComponent","constructor","super","setContainerRef","bind","componentDidMount","execute","componentDidUpdate","ref","render","id","ReactifiedClass","defaultProps"],"sourceRoot":""}