{"version":3,"file":"b76ca329a4d33e145aef.chunk.js","mappings":"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","sources":["webpack://superset/./node_modules/rc-field-form/lib/FieldContext.js","webpack://superset/./node_modules/rc-util/lib/hooks/useMemo.js","webpack://superset/./node_modules/rc-util/lib/raf.js","webpack://superset/./node_modules/rc-util/lib/ref.js","webpack://superset/./src/components/Form/FormItem.tsx","webpack://superset/./src/explore/components/controls/FilterControl/types.ts","webpack://superset/./src/filters/components/Range/RangeFilterPlugin.tsx","webpack://superset/./src/filters/components/common.ts","webpack://superset/./src/filters/utils.ts"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.HOOK_MARK = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar HOOK_MARK = 'RC_FORM_INTERNAL_HOOKS'; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexports.HOOK_MARK = HOOK_MARK;\n\nvar warningFunc = function warningFunc() {\n  (0, _warning.default)(false, 'Can not find FormContext. Please make sure you wrap Field under Form.');\n};\n\nvar Context = /*#__PURE__*/React.createContext({\n  getFieldValue: warningFunc,\n  getFieldsValue: warningFunc,\n  getFieldError: warningFunc,\n  getFieldsError: warningFunc,\n  isFieldsTouched: warningFunc,\n  isFieldTouched: warningFunc,\n  isFieldValidating: warningFunc,\n  isFieldsValidating: warningFunc,\n  resetFields: warningFunc,\n  setFields: warningFunc,\n  setFieldsValue: warningFunc,\n  validateFields: warningFunc,\n  submit: warningFunc,\n  getInternalHooks: function getInternalHooks() {\n    warningFunc();\n    return {\n      dispatch: warningFunc,\n      initEntityValue: warningFunc,\n      registerField: warningFunc,\n      useSubscribe: warningFunc,\n      setInitialValues: warningFunc,\n      setCallbacks: warningFunc,\n      getFields: warningFunc,\n      setValidateMessages: warningFunc,\n      setPreserve: warningFunc\n    };\n  }\n});\nvar _default = Context;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useMemo;\nvar React = _interopRequireWildcard(require(\"react\"));\nfunction useMemo(getValue, condition, shouldUpdate) {\n  var cacheRef = React.useRef({});\n  if (!('value' in cacheRef.current) || shouldUpdate(cacheRef.current.condition, condition)) {\n    cacheRef.current.value = getValue();\n    cacheRef.current.condition = condition;\n  }\n  return cacheRef.current.value;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar raf = function raf(callback) {\n  return +setTimeout(callback, 16);\n};\nvar caf = function caf(num) {\n  return clearTimeout(num);\n};\nif (typeof window !== 'undefined' && 'requestAnimationFrame' in window) {\n  raf = function raf(callback) {\n    return window.requestAnimationFrame(callback);\n  };\n  caf = function caf(handle) {\n    return window.cancelAnimationFrame(handle);\n  };\n}\nvar rafUUID = 0;\nvar rafIds = new Map();\nfunction cleanup(id) {\n  rafIds.delete(id);\n}\nvar wrapperRaf = function wrapperRaf(callback) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  rafUUID += 1;\n  var id = rafUUID;\n  function callRef(leftTimes) {\n    if (leftTimes === 0) {\n      // Clean up\n      cleanup(id);\n\n      // Trigger\n      callback();\n    } else {\n      // Next raf\n      var realId = raf(function () {\n        callRef(leftTimes - 1);\n      });\n\n      // Bind real raf id\n      rafIds.set(id, realId);\n    }\n  }\n  callRef(times);\n  return id;\n};\nwrapperRaf.cancel = function (id) {\n  var realId = rafIds.get(id);\n  cleanup(id);\n  return caf(realId);\n};\nif (process.env.NODE_ENV !== 'production') {\n  wrapperRaf.ids = function () {\n    return rafIds;\n  };\n}\nvar _default = exports.default = wrapperRaf;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useComposeRef = exports.supportRef = exports.supportNodeRef = exports.getNodeRef = exports.fillRef = exports.composeRef = void 0;\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _react = require(\"react\");\nvar _reactIs = require(\"react-is\");\nvar _useMemo = _interopRequireDefault(require(\"./hooks/useMemo\"));\nvar fillRef = exports.fillRef = function fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if ((0, _typeof2.default)(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n};\n\n/**\n * Merge refs into one ref function to support ref passing.\n */\nvar composeRef = exports.composeRef = function composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n  var refList = refs.filter(Boolean);\n  if (refList.length <= 1) {\n    return refList[0];\n  }\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n};\nvar useComposeRef = exports.useComposeRef = function useComposeRef() {\n  for (var _len2 = arguments.length, refs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    refs[_key2] = arguments[_key2];\n  }\n  return (0, _useMemo.default)(function () {\n    return composeRef.apply(void 0, refs);\n  }, refs, function (prev, next) {\n    return prev.length !== next.length || prev.every(function (ref, i) {\n      return ref !== next[i];\n    });\n  });\n};\nvar supportRef = exports.supportRef = function supportRef(nodeOrComponent) {\n  var _type$prototype, _nodeOrComponent$prot;\n  var type = (0, _reactIs.isMemo)(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !((_type$prototype = type.prototype) !== null && _type$prototype !== void 0 && _type$prototype.render) && type.$$typeof !== _reactIs.ForwardRef) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !((_nodeOrComponent$prot = nodeOrComponent.prototype) !== null && _nodeOrComponent$prot !== void 0 && _nodeOrComponent$prot.render) && nodeOrComponent.$$typeof !== _reactIs.ForwardRef) {\n    return false;\n  }\n  return true;\n};\nfunction isReactElement(node) {\n  return /*#__PURE__*/(0, _react.isValidElement)(node) && !(0, _reactIs.isFragment)(node);\n}\nvar supportNodeRef = exports.supportNodeRef = function supportNodeRef(node) {\n  return isReactElement(node) && supportRef(node);\n};\n\n/**\n * In React 19. `ref` is not a property from node.\n * But a property from `props.ref`.\n * To check if `props.ref` exist or fallback to `ref`.\n */\nvar getNodeRef = exports.getNodeRef = Number(_react.version.split('.')[0]) >= 19 ?\n// >= React 19\nfunction (node) {\n  if (isReactElement(node)) {\n    return node.props.ref;\n  }\n  return null;\n} :\n// < React 19\nfunction (node) {\n  if (isReactElement(node)) {\n    return node.ref;\n  }\n  return null;\n};","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Form from 'antd/lib/form';\nimport { styled } from '@superset-ui/core';\n\nconst StyledItem = styled(Form.Item)`\n  ${({ theme }) => `\n    .ant-form-item-label {\n      padding-bottom: ${theme.gridUnit}px;\n      & > label {\n        text-transform: uppercase;\n        font-size: ${theme.typography.sizes.s}px;\n        color: ${theme.colors.grayscale.base};\n\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            color: ${theme.colors.error.base};\n            font-size: ${theme.typography.sizes.s}px;\n            content: '*';\n          }\n        }\n      }\n    }\n  `}\n`;\n\nexport default StyledItem;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nexport enum ExpressionTypes {\n  Simple = 'SIMPLE',\n  Sql = 'SQL',\n}\n\nexport enum Clauses {\n  Having = 'HAVING',\n  Where = 'WHERE',\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  ensureIsArray,\n  getColumnLabel,\n  getNumberFormatter,\n  NumberFormats,\n  styled,\n  t,\n} from '@superset-ui/core';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { rgba } from 'emotion-rgba';\nimport { AntdSlider } from 'src/components';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { PluginFilterRangeProps } from './types';\nimport { StatusMessage, StyledFormItem, FilterPluginStyle } from '../common';\nimport { getRangeExtraFormData } from '../../utils';\nimport { SingleValueType } from './SingleValueType';\n\nconst LIGHT_BLUE = '#99e7f0';\nconst DARK_BLUE = '#6dd3e3';\nconst LIGHT_GRAY = '#f5f5f5';\nconst DARK_GRAY = '#e1e1e1';\n\nconst StyledMinSlider = styled(AntdSlider)<{\n  validateStatus?: 'error' | 'warning' | 'info';\n}>`\n  ${({ theme, validateStatus }) => `\n  .ant-slider-rail {\n    background-color: ${\n      validateStatus ? theme.colors[validateStatus]?.light1 : LIGHT_BLUE\n    };\n  }\n\n  .ant-slider-track {\n    background-color: ${LIGHT_GRAY};\n  }\n\n  &:hover {\n    .ant-slider-rail {\n      background-color: ${\n        validateStatus ? theme.colors[validateStatus]?.base : DARK_BLUE\n      };\n    }\n\n    .ant-slider-track {\n      background-color: ${DARK_GRAY};\n    }\n  }\n  `}\n`;\n\nconst Wrapper = styled.div<{\n  validateStatus?: 'error' | 'warning' | 'info';\n  orientation?: FilterBarOrientation;\n  isOverflowing?: boolean;\n}>`\n  ${({ theme, validateStatus, orientation, isOverflowing }) => `\n    border: 1px solid transparent;\n    &:focus {\n      border: 1px solid\n        ${theme.colors[validateStatus || 'primary']?.base};\n      outline: 0;\n      box-shadow: 0 0 0 3px\n        ${rgba(theme.colors[validateStatus || 'primary']?.base, 0.2)};\n    }\n    & .ant-slider {\n      margin-top: ${\n        orientation === FilterBarOrientation.Horizontal ? 0 : theme.gridUnit\n      }px;\n      margin-bottom: ${\n        orientation === FilterBarOrientation.Horizontal ? 0 : theme.gridUnit * 5\n      }px;\n\n      ${\n        orientation === FilterBarOrientation.Horizontal &&\n        !isOverflowing &&\n        `line-height: 1.2;`\n      }\n\n      & .ant-slider-track {\n        background-color: ${\n          validateStatus && theme.colors[validateStatus]?.light1\n        };\n      }\n      & .ant-slider-handle {\n        border: ${\n          validateStatus && `2px solid ${theme.colors[validateStatus]?.light1}`\n        };\n        &:focus {\n          box-shadow: 0 0 0 3px\n            ${rgba(theme.colors[validateStatus || 'primary']?.base, 0.2)};\n        }\n      }\n      & .ant-slider-mark {\n        font-size: ${theme.typography.sizes.s}px;\n      }\n\n      &:hover {\n        & .ant-slider-track {\n          background-color: ${\n            validateStatus && theme.colors[validateStatus]?.base\n          };\n        }\n        & .ant-slider-handle {\n          border: ${\n            validateStatus && `2px solid ${theme.colors[validateStatus]?.base}`\n          };\n        }\n      }\n    }\n  `}\n`;\n\nconst numberFormatter = getNumberFormatter(NumberFormats.SMART_NUMBER);\n\nconst tipFormatter = (value: number) => numberFormatter(value);\n\nconst getLabel = (lower: number | null, upper: number | null): string => {\n  if (lower !== null && upper !== null && lower === upper) {\n    return `x = ${numberFormatter(lower)}`;\n  }\n  if (lower !== null && upper !== null) {\n    return `${numberFormatter(lower)} ≤ x ≤ ${numberFormatter(upper)}`;\n  }\n  if (lower !== null) {\n    return `x ≥ ${numberFormatter(lower)}`;\n  }\n  if (upper !== null) {\n    return `x ≤ ${numberFormatter(upper)}`;\n  }\n  return '';\n};\n\nconst getMarks = (\n  lower: number | null,\n  upper: number | null,\n): { [key: number]: string } => {\n  const newMarks: { [key: number]: string } = {};\n  if (lower !== null) {\n    newMarks[lower] = numberFormatter(lower);\n  }\n  if (upper !== null) {\n    newMarks[upper] = numberFormatter(upper);\n  }\n  return newMarks;\n};\n\nexport default function RangeFilterPlugin(props: PluginFilterRangeProps) {\n  const {\n    data,\n    formData,\n    height,\n    width,\n    setDataMask,\n    setFocusedFilter,\n    unsetFocusedFilter,\n    setHoveredFilter,\n    unsetHoveredFilter,\n    setFilterActive,\n    filterState,\n    inputRef,\n    filterBarOrientation,\n    isOverflowingFilterBar,\n  } = props;\n  const [row] = data;\n  // @ts-ignore\n  const { min, max }: { min: number; max: number } = row;\n  const { groupby, defaultValue, enableSingleValue } = formData;\n\n  const enableSingleMinValue = enableSingleValue === SingleValueType.Minimum;\n  const enableSingleMaxValue = enableSingleValue === SingleValueType.Maximum;\n  const enableSingleExactValue = enableSingleValue === SingleValueType.Exact;\n  const rangeValue = enableSingleValue === undefined;\n\n  const [col = ''] = ensureIsArray(groupby).map(getColumnLabel);\n  const [value, setValue] = useState<[number, number]>(\n    defaultValue ?? [min, enableSingleExactValue ? min : max],\n  );\n  const [marks, setMarks] = useState<{ [key: number]: string }>({});\n  const minIndex = 0;\n  const maxIndex = 1;\n  const minMax = value ?? [min, max];\n\n  const getBounds = useCallback(\n    (\n      value: [number, number],\n    ): { lower: number | null; upper: number | null } => {\n      const [lowerRaw, upperRaw] = value;\n\n      if (enableSingleExactValue) {\n        return { lower: lowerRaw, upper: upperRaw };\n      }\n\n      return {\n        lower: lowerRaw > min ? lowerRaw : null,\n        upper: upperRaw < max ? upperRaw : null,\n      };\n    },\n    [max, min, enableSingleExactValue],\n  );\n\n  const handleAfterChange = useCallback(\n    (value: [number, number]): void => {\n      setValue(value);\n      const { lower, upper } = getBounds(value);\n      setMarks(getMarks(lower, upper));\n\n      setDataMask({\n        extraFormData: getRangeExtraFormData(col, lower, upper),\n        filterState: {\n          value: lower !== null || upper !== null ? value : null,\n          label: getLabel(lower, upper),\n        },\n      });\n    },\n    [col, getBounds, setDataMask],\n  );\n\n  const handleChange = useCallback((value: [number, number]) => {\n    setValue(value);\n  }, []);\n\n  useEffect(() => {\n    // when switch filter type and queriesData still not updated we need ignore this case (in FilterBar)\n    if (row?.min === undefined && row?.max === undefined) {\n      return;\n    }\n\n    let filterStateValue = filterState.value ?? [min, max];\n    if (enableSingleMaxValue) {\n      const filterStateMax =\n        filterStateValue[maxIndex] <= minMax[maxIndex]\n          ? filterStateValue[maxIndex]\n          : minMax[maxIndex];\n\n      filterStateValue = [min, filterStateMax];\n    } else if (enableSingleMinValue) {\n      const filterStateMin =\n        filterStateValue[minIndex] >= minMax[minIndex]\n          ? filterStateValue[minIndex]\n          : minMax[minIndex];\n\n      filterStateValue = [filterStateMin, max];\n    } else if (enableSingleExactValue) {\n      filterStateValue = [minMax[minIndex], minMax[minIndex]];\n    }\n\n    handleAfterChange(filterStateValue);\n  }, [\n    enableSingleMaxValue,\n    enableSingleMinValue,\n    enableSingleExactValue,\n    JSON.stringify(filterState.value),\n    JSON.stringify(data),\n  ]);\n\n  const formItemExtra = useMemo(() => {\n    if (filterState.validateMessage) {\n      return (\n        <StatusMessage status={filterState.validateStatus}>\n          {filterState.validateMessage}\n        </StatusMessage>\n      );\n    }\n    return undefined;\n  }, [filterState.validateMessage, filterState.validateStatus]);\n\n  useEffect(() => {\n    if (enableSingleMaxValue) {\n      handleAfterChange([min, minMax[maxIndex]]);\n    }\n  }, [enableSingleMaxValue]);\n\n  useEffect(() => {\n    if (enableSingleMinValue) {\n      handleAfterChange([minMax[minIndex], max]);\n    }\n  }, [enableSingleMinValue]);\n\n  useEffect(() => {\n    if (enableSingleExactValue) {\n      handleAfterChange([minMax[minIndex], minMax[minIndex]]);\n    }\n  }, [enableSingleExactValue]);\n\n  const MIN_NUM_STEPS = 20;\n  const stepHeuristic = (min: number, max: number) => {\n    const maxStepSize = (max - min) / MIN_NUM_STEPS;\n    // normalizedStepSize: .06 -> .01, .003 -> .001\n    const normalizedStepSize = `1E${Math.floor(Math.log10(maxStepSize))}`;\n    return Math.min(1, parseFloat(normalizedStepSize));\n  };\n\n  const step = max - min <= 1 ? stepHeuristic(min, max) : 1;\n\n  return (\n    <FilterPluginStyle height={height} width={width}>\n      {Number.isNaN(Number(min)) || Number.isNaN(Number(max)) ? (\n        <h4>{t('Chosen non-numeric column')}</h4>\n      ) : (\n        <StyledFormItem extra={formItemExtra}>\n          <Wrapper\n            tabIndex={-1}\n            ref={inputRef}\n            validateStatus={filterState.validateStatus}\n            orientation={filterBarOrientation}\n            isOverflowing={isOverflowingFilterBar}\n            onFocus={setFocusedFilter}\n            onBlur={unsetFocusedFilter}\n            onMouseEnter={setHoveredFilter}\n            onMouseLeave={unsetHoveredFilter}\n            onMouseDown={() => setFilterActive(true)}\n            onMouseUp={() => setFilterActive(false)}\n          >\n            {enableSingleMaxValue && (\n              <AntdSlider\n                min={min}\n                max={max}\n                step={step}\n                value={minMax[maxIndex]}\n                tipFormatter={tipFormatter}\n                marks={marks}\n                onAfterChange={value => handleAfterChange([min, value])}\n                onChange={value => handleChange([min, value])}\n              />\n            )}\n            {enableSingleMinValue && (\n              <StyledMinSlider\n                validateStatus={filterState.validateStatus}\n                min={min}\n                max={max}\n                step={step}\n                value={minMax[minIndex]}\n                tipFormatter={tipFormatter}\n                marks={marks}\n                onAfterChange={value => handleAfterChange([value, max])}\n                onChange={value => handleChange([value, max])}\n              />\n            )}\n            {enableSingleExactValue && (\n              <AntdSlider\n                min={min}\n                max={max}\n                step={step}\n                included={false}\n                value={minMax[minIndex]}\n                tipFormatter={tipFormatter}\n                marks={marks}\n                onAfterChange={value => handleAfterChange([value, value])}\n                onChange={value => handleChange([value, value])}\n              />\n            )}\n            {rangeValue && (\n              <AntdSlider\n                range\n                min={min}\n                max={max}\n                step={step}\n                value={minMax}\n                onAfterChange={handleAfterChange}\n                onChange={handleChange}\n                tipFormatter={tipFormatter}\n                marks={marks}\n              />\n            )}\n          </Wrapper>\n        </StyledFormItem>\n      )}\n    </FilterPluginStyle>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled } from '@superset-ui/core';\nimport { PluginFilterStylesProps } from './types';\nimport FormItem from '../../components/Form/FormItem';\n\nexport const RESPONSIVE_WIDTH = 0;\n\nexport const FilterPluginStyle = styled.div<PluginFilterStylesProps>`\n  min-height: ${({ height }) => height}px;\n  width: ${({ width }) => (width === RESPONSIVE_WIDTH ? '100%' : `${width}px`)};\n`;\n\nexport const StyledFormItem = styled(FormItem)`\n  &.ant-row.ant-form-item {\n    margin: 0;\n  }\n`;\n\nexport const StatusMessage = styled.div<{\n  status?: 'error' | 'warning' | 'info';\n}>`\n  color: ${({ theme, status = 'error' }) => theme.colors[status]?.base};\n`;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  DataRecordValue,\n  GenericDataType,\n  NumberFormatter,\n  QueryObjectFilterClause,\n  TimeFormatter,\n  ExtraFormData,\n} from '@superset-ui/core';\nimport { FALSE_STRING, NULL_STRING, TRUE_STRING } from 'src/utils/common';\nimport {\n  Clauses,\n  ExpressionTypes,\n} from '../explore/components/controls/FilterControl/types';\n\nexport const getSelectExtraFormData = (\n  col: string,\n  value?: null | (string | number | boolean | null)[],\n  emptyFilter = false,\n  inverseSelection = false,\n): ExtraFormData => {\n  const extra: ExtraFormData = {};\n  if (emptyFilter) {\n    extra.adhoc_filters = [\n      {\n        expressionType: ExpressionTypes.Sql,\n        clause: Clauses.Where,\n        sqlExpression: '1 = 0',\n      },\n    ];\n  } else if (value !== undefined && value !== null && value.length !== 0) {\n    extra.filters = [\n      {\n        col,\n        op: inverseSelection ? ('NOT IN' as const) : ('IN' as const),\n        // @ts-ignore\n        val: value,\n      },\n    ];\n  }\n  return extra;\n};\n\nexport const getRangeExtraFormData = (\n  col: string,\n  lower?: number | null,\n  upper?: number | null,\n) => {\n  const filters: QueryObjectFilterClause[] = [];\n  if (lower !== undefined && lower !== null && lower !== upper) {\n    filters.push({ col, op: '>=', val: lower });\n  }\n  if (upper !== undefined && upper !== null && upper !== lower) {\n    filters.push({ col, op: '<=', val: upper });\n  }\n  if (\n    upper !== undefined &&\n    upper !== null &&\n    lower !== undefined &&\n    lower !== null &&\n    upper === lower\n  ) {\n    filters.push({ col, op: '==', val: upper });\n  }\n\n  return filters.length\n    ? {\n        filters,\n      }\n    : {};\n};\n\nexport interface DataRecordValueFormatter {\n  (value: DataRecordValue, dtype: GenericDataType): string;\n}\n\nexport function getDataRecordFormatter({\n  timeFormatter,\n  numberFormatter,\n}: {\n  timeFormatter?: TimeFormatter;\n  numberFormatter?: NumberFormatter;\n} = {}): DataRecordValueFormatter {\n  return (value, dtype) => {\n    if (value === null || value === undefined) {\n      return NULL_STRING;\n    }\n    if (typeof value === 'boolean') {\n      return value ? TRUE_STRING : FALSE_STRING;\n    }\n    if (dtype === GenericDataType.Boolean) {\n      try {\n        return JSON.parse(String(value).toLowerCase())\n          ? TRUE_STRING\n          : FALSE_STRING;\n      } catch {\n        return FALSE_STRING;\n      }\n    }\n    if (typeof value === 'string') {\n      return value;\n    }\n    if (timeFormatter && dtype === GenericDataType.Temporal) {\n      return timeFormatter(value);\n    }\n    if (\n      numberFormatter &&\n      typeof value === 'number' &&\n      dtype === GenericDataType.Numeric\n    ) {\n      return numberFormatter(value);\n    }\n    return String(value);\n  };\n}\n"],"names":["_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","HOOK_MARK","React","_warning","warningFunc","default","_default","createContext","getFieldValue","getFieldsValue","getFieldError","getFieldsError","isFieldsTouched","isFieldTouched","isFieldValidating","isFieldsValidating","resetFields","setFields","setFieldsValue","validateFields","submit","getInternalHooks","dispatch","initEntityValue","registerField","useSubscribe","setInitialValues","setCallbacks","getFields","setValidateMessages","setPreserve","getValue","condition","shouldUpdate","cacheRef","useRef","current","raf","callback","setTimeout","caf","num","clearTimeout","window","requestAnimationFrame","handle","cancelAnimationFrame","rafUUID","rafIds","Map","cleanup","id","delete","wrapperRaf","callRef","leftTimes","realId","set","arguments","length","undefined","cancel","get","useComposeRef","supportRef","supportNodeRef","getNodeRef","fillRef","composeRef","_typeof2","_react","_reactIs","_useMemo","ref","node","_len","refs","Array","_key","refList","filter","Boolean","forEach","_len2","_key2","apply","prev","next","every","i","nodeOrComponent","_type$prototype","_nodeOrComponent$prot","type","isMemo","prototype","render","$$typeof","ForwardRef","isReactElement","isValidElement","isFragment","Number","version","split","props","styled","Form","Item","theme","gridUnit","typography","sizes","s","colors","grayscale","base","error","ExpressionTypes","Clauses","StyledMinSlider","AntdSlider","validateStatus","_theme$colors$validat","_theme$colors$validat2","light1","Wrapper","div","orientation","isOverflowing","_theme$colors","_theme$colors2","_theme$colors$validat3","_theme$colors$validat4","_theme$colors3","_theme$colors$validat5","_theme$colors$validat6","rgba","FilterBarOrientation","Horizontal","numberFormatter","getNumberFormatter","NumberFormats","SMART_NUMBER","tipFormatter","getLabel","lower","upper","getMarks","newMarks","RangeFilterPlugin","data","formData","height","width","setDataMask","setFocusedFilter","unsetFocusedFilter","setHoveredFilter","unsetHoveredFilter","setFilterActive","filterState","inputRef","filterBarOrientation","isOverflowingFilterBar","row","min","max","groupby","defaultValue","enableSingleValue","enableSingleMinValue","SingleValueType","Minimum","enableSingleMaxValue","Maximum","enableSingleExactValue","Exact","rangeValue","col","ensureIsArray","map","getColumnLabel","setValue","useState","marks","setMarks","minMax","getBounds","useCallback","lowerRaw","upperRaw","handleAfterChange","extraFormData","getRangeExtraFormData","label","handleChange","useEffect","_filterState$value","filterStateValue","filterStateMax","JSON","stringify","formItemExtra","useMemo","validateMessage","_jsx","StatusMessage","status","children","step","stepHeuristic","maxStepSize","normalizedStepSize","Math","floor","log10","parseFloat","FilterPluginStyle","isNaN","t","StyledFormItem","extra","_jsxs","tabIndex","onFocus","onBlur","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onAfterChange","onChange","included","range","RESPONSIVE_WIDTH","FormItem","_theme$colors$status","getSelectExtraFormData","emptyFilter","inverseSelection","adhoc_filters","expressionType","Sql","clause","Where","sqlExpression","filters","op","val","push","getDataRecordFormatter","timeFormatter","dtype","NULL_STRING","TRUE_STRING","FALSE_STRING","GenericDataType","parse","String","toLowerCase","Temporal","Numeric"],"sourceRoot":""}