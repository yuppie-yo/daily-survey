{"version":3,"file":"08eeee0faf0a3be5b8b3.chunk.js","mappings":"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","sources":["webpack://superset/./src/components/DatePicker/index.tsx","webpack://superset/./src/components/Popover/Popover.tsx","webpack://superset/./src/explore/components/controls/ControlPopover/ControlPopover.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/components/CommonFrame.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/components/CalendarFrame.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/components/CurrentCalendarFrame.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/components/CustomFrame.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/components/DateFunctionTooltip.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/components/AdvancedFrame.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/components/DateLabel.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx","webpack://superset/./src/explore/components/controls/DateFilterControl/types.ts","webpack://superset/./src/explore/components/controls/DateFilterControl/utils/constants.ts","webpack://superset/./src/explore/components/controls/DateFilterControl/utils/dateParser.ts","webpack://superset/./src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { DatePicker as AntdDatePicker } from 'antd';\nimport { styled } from '@superset-ui/core';\n\nconst AntdRangePicker = AntdDatePicker.RangePicker;\n\nexport const RangePicker = styled(AntdRangePicker)`\n  border-radius: ${({ theme }) => theme.gridUnit}px;\n`;\n\nexport const DatePicker = AntdDatePicker;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { Popover as AntdPopover } from 'antd';\nimport type { PopoverProps as AntdPopoverProps } from 'antd/lib/popover';\n\nexport interface PopoverProps extends AntdPopoverProps {\n  forceRender?: boolean;\n}\n\nexport const Popover = (props: PopoverProps) => <AntdPopover {...props} />;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n// eslint-disable-next-line no-restricted-syntax -- whole React import is required for `ControlPopover.test.tsx` Jest test passing.\nimport React, { FC, useCallback, useRef, useEffect, useState } from 'react';\n\nimport Popover, {\n  PopoverProps as BasePopoverProps,\n  TooltipPlacement,\n} from 'src/components/Popover';\n\nconst sectionContainerId = 'controlSections';\nexport const getSectionContainerElement = () =>\n  document.getElementById(sectionContainerId)?.lastElementChild as HTMLElement;\n\nconst getElementYVisibilityRatioOnContainer = (node: HTMLElement) => {\n  const containerHeight = window?.innerHeight;\n  const nodePositionInViewport = node?.getBoundingClientRect()?.top;\n  if (!containerHeight || !nodePositionInViewport) {\n    return 0;\n  }\n\n  return nodePositionInViewport / containerHeight;\n};\n\nexport type PopoverProps = BasePopoverProps & {\n  getVisibilityRatio?: typeof getElementYVisibilityRatioOnContainer;\n};\n\nconst ControlPopover: FC<PopoverProps> = ({\n  getPopupContainer,\n  getVisibilityRatio = getElementYVisibilityRatioOnContainer,\n  visible: visibleProp,\n  destroyTooltipOnHide = false,\n  ...props\n}) => {\n  const triggerElementRef = useRef<HTMLElement>();\n\n  const [visible, setVisible] = useState(\n    visibleProp === undefined ? props.defaultVisible : visibleProp,\n  );\n  const [placement, setPlacement] = React.useState<TooltipPlacement>('right');\n\n  const calculatePlacement = useCallback(() => {\n    const visibilityRatio = getVisibilityRatio(triggerElementRef.current!);\n    if (visibilityRatio < 0.35 && placement !== 'rightTop') {\n      setPlacement('rightTop');\n    } else if (visibilityRatio > 0.65 && placement !== 'rightBottom') {\n      setPlacement('rightBottom');\n    } else {\n      setPlacement('right');\n    }\n  }, [getVisibilityRatio]);\n\n  const changeContainerScrollStatus = useCallback(\n    visible => {\n      const element = getSectionContainerElement();\n      if (element) {\n        element.style.setProperty(\n          'overflow-y',\n          visible ? 'hidden' : 'auto',\n          'important',\n        );\n      }\n    },\n    [calculatePlacement],\n  );\n\n  const handleGetPopupContainer = useCallback(\n    (triggerNode: HTMLElement) => {\n      triggerElementRef.current = triggerNode;\n\n      return getPopupContainer?.(triggerNode) || document.body;\n    },\n    [calculatePlacement, getPopupContainer],\n  );\n\n  const handleOnVisibleChange = useCallback(\n    (visible: boolean | undefined) => {\n      if (visible === undefined) {\n        changeContainerScrollStatus(visible);\n      }\n\n      setVisible(!!visible);\n      props.onVisibleChange?.(!!visible);\n    },\n    [props, changeContainerScrollStatus],\n  );\n\n  const handleDocumentKeyDownListener = useCallback(\n    (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        setVisible(false);\n        props.onVisibleChange?.(false);\n      }\n    },\n    [props],\n  );\n\n  useEffect(() => {\n    if (visibleProp !== undefined) {\n      setVisible(!!visibleProp);\n    }\n  }, [visibleProp]);\n\n  useEffect(() => {\n    if (visible !== undefined) {\n      changeContainerScrollStatus(visible);\n    }\n  }, [visible, changeContainerScrollStatus]);\n\n  useEffect(() => {\n    if (visible) {\n      document.addEventListener('keydown', handleDocumentKeyDownListener);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleDocumentKeyDownListener);\n    };\n  }, [handleDocumentKeyDownListener, visible]);\n\n  useEffect(() => {\n    if (visible) {\n      calculatePlacement();\n    }\n  }, [visible, calculatePlacement]);\n\n  return (\n    <Popover\n      {...props}\n      visible={visible}\n      arrowPointAtCenter\n      placement={placement}\n      onVisibleChange={handleOnVisibleChange}\n      getPopupContainer={handleGetPopupContainer}\n      destroyTooltipOnHide={destroyTooltipOnHide}\n    />\n  );\n};\n\nexport default ControlPopover;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\nimport { Radio } from 'src/components/Radio';\nimport {\n  COMMON_RANGE_OPTIONS,\n  COMMON_RANGE_SET,\n  DateFilterTestKey,\n} from 'src/explore/components/controls/DateFilterControl/utils';\nimport {\n  CommonRangeType,\n  FrameComponentProps,\n} from 'src/explore/components/controls/DateFilterControl/types';\n\nexport function CommonFrame(props: FrameComponentProps) {\n  let commonRange = 'Last week';\n  if (COMMON_RANGE_SET.has(props.value as CommonRangeType)) {\n    commonRange = props.value;\n  } else {\n    props.onChange(commonRange);\n  }\n\n  return (\n    <>\n      <div className=\"section-title\" data-test={DateFilterTestKey.CommonFrame}>\n        {t('Configure Time Range: Last...')}\n      </div>\n      <Radio.Group\n        value={commonRange}\n        onChange={(e: any) => props.onChange(e.target.value)}\n      >\n        {COMMON_RANGE_OPTIONS.map(({ value, label }) => (\n          <Radio key={value} value={value} className=\"vertical-radio\">\n            {label}\n          </Radio>\n        ))}\n      </Radio.Group>\n    </>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect } from 'react';\nimport { t } from '@superset-ui/core';\nimport { Radio } from 'src/components/Radio';\nimport {\n  CALENDAR_RANGE_OPTIONS,\n  CALENDAR_RANGE_SET,\n} from 'src/explore/components/controls/DateFilterControl/utils';\nimport {\n  CalendarRangeType,\n  PreviousCalendarWeek,\n  FrameComponentProps,\n} from '../types';\n\nexport function CalendarFrame({ onChange, value }: FrameComponentProps) {\n  useEffect(() => {\n    if (!CALENDAR_RANGE_SET.has(value as CalendarRangeType)) {\n      onChange(PreviousCalendarWeek);\n    }\n  }, [onChange, value]);\n\n  if (!CALENDAR_RANGE_SET.has(value as CalendarRangeType)) {\n    return null;\n  }\n\n  return (\n    <>\n      <div className=\"section-title\">\n        {t('Configure Time Range: Previous...')}\n      </div>\n      <Radio.Group\n        value={value}\n        onChange={(e: any) => onChange(e.target.value)}\n      >\n        {CALENDAR_RANGE_OPTIONS.map(({ value, label }) => (\n          <Radio key={value} value={value} className=\"vertical-radio\">\n            {label}\n          </Radio>\n        ))}\n      </Radio.Group>\n    </>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect } from 'react';\nimport { t } from '@superset-ui/core';\nimport { Radio } from 'src/components/Radio';\nimport {\n  CURRENT_RANGE_OPTIONS,\n  CURRENT_CALENDAR_RANGE_SET,\n} from 'src/explore/components/controls/DateFilterControl/utils';\nimport { CurrentRangeType, CurrentWeek, FrameComponentProps } from '../types';\n\nexport function CurrentCalendarFrame({ onChange, value }: FrameComponentProps) {\n  useEffect(() => {\n    if (!CURRENT_CALENDAR_RANGE_SET.has(value as CurrentRangeType)) {\n      onChange(CurrentWeek);\n    }\n  }, [value]);\n\n  if (!CURRENT_CALENDAR_RANGE_SET.has(value as CurrentRangeType)) {\n    return null;\n  }\n\n  return (\n    <>\n      <div className=\"section-title\">\n        {t('Configure Time Range: Current...')}\n      </div>\n      <Radio.Group\n        value={value}\n        onChange={(e: any) => {\n          let newValue = e.target.value;\n          // Sanitization: Trim whitespace\n          newValue = newValue.trim();\n          // Validation: Check if the value is non-empty\n          if (newValue === '') {\n            return;\n          }\n          onChange(newValue);\n        }}\n      >\n        {CURRENT_RANGE_OPTIONS.map(({ value, label }) => (\n          <Radio key={value} value={value} className=\"vertical-radio\">\n            {label}\n          </Radio>\n        ))}\n      </Radio.Group>\n    </>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useSelector } from 'react-redux';\nimport { t, customTimeRangeDecode } from '@superset-ui/core';\nimport { Moment } from 'moment';\nimport { isInteger } from 'lodash';\n// @ts-ignore\nimport { locales } from 'antd/dist/antd-with-locales';\nimport { Col, Row } from 'src/components';\nimport { InputNumber } from 'src/components/Input';\nimport { DatePicker } from 'src/components/DatePicker';\nimport { Radio } from 'src/components/Radio';\nimport Select from 'src/components/Select/Select';\nimport { InfoTooltipWithTrigger } from '@superset-ui/chart-controls';\nimport {\n  SINCE_GRAIN_OPTIONS,\n  SINCE_MODE_OPTIONS,\n  UNTIL_GRAIN_OPTIONS,\n  UNTIL_MODE_OPTIONS,\n  MOMENT_FORMAT,\n  MIDNIGHT,\n  customTimeRangeEncode,\n  dttmToMoment,\n  LOCALE_MAPPING,\n} from 'src/explore/components/controls/DateFilterControl/utils';\nimport {\n  CustomRangeKey,\n  FrameComponentProps,\n} from 'src/explore/components/controls/DateFilterControl/types';\nimport { ExplorePageState } from 'src/explore/types';\n\nexport function CustomFrame(props: FrameComponentProps) {\n  const { customRange, matchedFlag } = customTimeRangeDecode(props.value);\n  if (!matchedFlag) {\n    props.onChange(customTimeRangeEncode(customRange));\n  }\n  const {\n    sinceDatetime,\n    sinceMode,\n    sinceGrain,\n    sinceGrainValue,\n    untilDatetime,\n    untilMode,\n    untilGrain,\n    untilGrainValue,\n    anchorValue,\n    anchorMode,\n  } = { ...customRange };\n\n  function onChange(control: CustomRangeKey, value: string) {\n    props.onChange(\n      customTimeRangeEncode({\n        ...customRange,\n        [control]: value,\n      }),\n    );\n  }\n\n  function onGrainValue(\n    control: 'sinceGrainValue' | 'untilGrainValue',\n    value: string | number,\n  ) {\n    // only positive values in grainValue controls\n    if (isInteger(value) && value > 0) {\n      props.onChange(\n        customTimeRangeEncode({\n          ...customRange,\n          [control]: value,\n        }),\n      );\n    }\n  }\n\n  function onAnchorMode(option: any) {\n    const radioValue = option.target.value;\n    if (radioValue === 'now') {\n      props.onChange(\n        customTimeRangeEncode({\n          ...customRange,\n          anchorValue: 'now',\n          anchorMode: radioValue,\n        }),\n      );\n    } else {\n      props.onChange(\n        customTimeRangeEncode({\n          ...customRange,\n          anchorValue: MIDNIGHT,\n          anchorMode: radioValue,\n        }),\n      );\n    }\n  }\n\n  // check if there is a locale defined for explore\n  const localFromFlaskBabel = useSelector(\n    (state: ExplorePageState) => state?.common?.locale,\n  );\n  // An undefined datePickerLocale is acceptable if no match is found in the LOCALE_MAPPING[localFromFlaskBabel] lookup\n  // and will fall back to antd's default locale when the antd DataPicker's prop locale === undefined\n  // This also protects us from the case where state is populated with a locale that antd locales does not recognize\n  const datePickerLocale =\n    locales[LOCALE_MAPPING[localFromFlaskBabel]]?.DatePicker;\n\n  return (\n    <div data-test=\"custom-frame\">\n      <div className=\"section-title\">{t('Configure custom time range')}</div>\n      <Row gutter={24}>\n        <Col span={12}>\n          <div className=\"control-label\">\n            {t('START (INCLUSIVE)')}{' '}\n            <InfoTooltipWithTrigger\n              tooltip={t('Start date included in time range')}\n              placement=\"right\"\n            />\n          </div>\n          <Select\n            ariaLabel={t('START (INCLUSIVE)')}\n            options={SINCE_MODE_OPTIONS}\n            value={sinceMode}\n            onChange={(value: string) => onChange('sinceMode', value)}\n          />\n          {sinceMode === 'specific' && (\n            <Row>\n              <DatePicker\n                showTime\n                defaultValue={dttmToMoment(sinceDatetime)}\n                onChange={(datetime: Moment) =>\n                  onChange('sinceDatetime', datetime.format(MOMENT_FORMAT))\n                }\n                allowClear={false}\n                locale={datePickerLocale}\n              />\n            </Row>\n          )}\n          {sinceMode === 'relative' && (\n            <Row gutter={8}>\n              <Col span={11}>\n                {/* Make sure sinceGrainValue looks like a positive integer */}\n                <InputNumber\n                  placeholder={t('Relative quantity')}\n                  value={Math.abs(sinceGrainValue)}\n                  min={1}\n                  defaultValue={1}\n                  onChange={value =>\n                    onGrainValue('sinceGrainValue', value || 1)\n                  }\n                  onStep={value => onGrainValue('sinceGrainValue', value || 1)}\n                />\n              </Col>\n              <Col span={13}>\n                <Select\n                  ariaLabel={t('Relative period')}\n                  options={SINCE_GRAIN_OPTIONS}\n                  value={sinceGrain}\n                  onChange={(value: string) => onChange('sinceGrain', value)}\n                />\n              </Col>\n            </Row>\n          )}\n        </Col>\n        <Col span={12}>\n          <div className=\"control-label\">\n            {t('END (EXCLUSIVE)')}{' '}\n            <InfoTooltipWithTrigger\n              tooltip={t('End date excluded from time range')}\n              placement=\"right\"\n            />\n          </div>\n          <Select\n            ariaLabel={t('END (EXCLUSIVE)')}\n            options={UNTIL_MODE_OPTIONS}\n            value={untilMode}\n            onChange={(value: string) => onChange('untilMode', value)}\n          />\n          {untilMode === 'specific' && (\n            <Row>\n              <DatePicker\n                showTime\n                defaultValue={dttmToMoment(untilDatetime)}\n                onChange={(datetime: Moment) =>\n                  onChange('untilDatetime', datetime.format(MOMENT_FORMAT))\n                }\n                allowClear={false}\n                locale={datePickerLocale}\n              />\n            </Row>\n          )}\n          {untilMode === 'relative' && (\n            <Row gutter={8}>\n              <Col span={11}>\n                <InputNumber\n                  placeholder={t('Relative quantity')}\n                  value={untilGrainValue}\n                  min={1}\n                  defaultValue={1}\n                  onChange={value =>\n                    onGrainValue('untilGrainValue', value || 1)\n                  }\n                  onStep={value => onGrainValue('untilGrainValue', value || 1)}\n                />\n              </Col>\n              <Col span={13}>\n                <Select\n                  ariaLabel={t('Relative period')}\n                  options={UNTIL_GRAIN_OPTIONS}\n                  value={untilGrain}\n                  onChange={(value: string) => onChange('untilGrain', value)}\n                />\n              </Col>\n            </Row>\n          )}\n        </Col>\n      </Row>\n      {sinceMode === 'relative' && untilMode === 'relative' && (\n        <div className=\"control-anchor-to\">\n          <div className=\"control-label\">{t('Anchor to')}</div>\n          <Row align=\"middle\">\n            <Col>\n              <Radio.Group\n                onChange={onAnchorMode}\n                defaultValue=\"now\"\n                value={anchorMode}\n              >\n                <Radio key=\"now\" value=\"now\">\n                  {t('NOW')}\n                </Radio>\n                <Radio key=\"specific\" value=\"specific\">\n                  {t('Date/Time')}\n                </Radio>\n              </Radio.Group>\n            </Col>\n            {anchorMode !== 'now' && (\n              <Col>\n                <DatePicker\n                  showTime\n                  defaultValue={dttmToMoment(anchorValue)}\n                  onChange={(datetime: Moment) =>\n                    onChange('anchorValue', datetime.format(MOMENT_FORMAT))\n                  }\n                  allowClear={false}\n                  className=\"control-anchor-to-datetime\"\n                  locale={datePickerLocale}\n                />\n              </Col>\n            )}\n          </Row>\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useTheme, t } from '@superset-ui/core';\n\nimport { Tooltip } from 'src/components/Tooltip';\nimport { ClassNames } from '@emotion/react';\n\nconst TIME_PICKER_HELPER = (\n  <>\n    <div>\n      <h3>DATETIME</h3>\n      <p>{t('Return to specific datetime.')}</p>\n      <h4>{t('Syntax')}</h4>\n      <pre>\n        <code>datetime([string])</code>\n      </pre>\n      <h4>{t('Example')}</h4>\n      <pre>\n        <code>{`datetime(\"2020-03-01 12:00:00\")\ndatetime(\"now\")\ndatetime(\"last year\")`}</code>\n      </pre>\n    </div>\n    <div>\n      <h3>DATEADD</h3>\n      <p>{t('Moves the given set of dates by a specified interval.')}</p>\n      <h4>{t('Syntax')}</h4>\n      <pre>\n        <code>{`dateadd([datetime], [integer], [dateunit])\ndateunit = (year | quarter | month | week | day | hour | minute | second)`}</code>\n      </pre>\n      <h4>{t('Example')}</h4>\n      <pre>\n        <code>{`dateadd(datetime(\"today\"), -13, day)\ndateadd(datetime(\"2020-03-01\"), 2, day)`}</code>\n      </pre>\n    </div>\n    <div>\n      <h3>DATETRUNC</h3>\n      <p>\n        {t(\n          'Truncates the specified date to the accuracy specified by the date unit.',\n        )}\n      </p>\n      <h4>{t('Syntax')}</h4>\n      <pre>\n        <code>{`datetrunc([datetime], [dateunit])\ndateunit = (year | quarter | month | week)`}</code>\n      </pre>\n      <h4>{t('Example')}</h4>\n      <pre>\n        <code>{`datetrunc(datetime(\"2020-03-01\"), week)\ndatetrunc(datetime(\"2020-03-01\"), month)`}</code>\n      </pre>\n    </div>\n    <div>\n      <h3>LASTDAY</h3>\n      <p>{t('Get the last date by the date unit.')}</p>\n      <h4>{t('Syntax')}</h4>\n      <pre>\n        <code>{`lastday([datetime], [dateunit])\ndateunit = (year | month | week)`}</code>\n      </pre>\n      <h4>{t('Example')}</h4>\n      <pre>\n        <code>lastday(datetime(\"today\"), month)</code>\n      </pre>\n    </div>\n    <div>\n      <h3>HOLIDAY</h3>\n      <p>{t('Get the specify date for the holiday')}</p>\n      <h4>{t('Syntax')}</h4>\n      <pre>\n        <code>{`holiday([string])\nholiday([holiday string], [datetime])\nholiday([holiday string], [datetime], [country name])`}</code>\n      </pre>\n      <h4>{t('Example')}</h4>\n      <pre>\n        <code>{`holiday(\"new year\")\nholiday(\"christmas\", datetime(\"2019\"))\nholiday(\"christmas\", dateadd(datetime(\"2019\"), 1, year))\nholiday(\"christmas\", datetime(\"2 years ago\"))\nholiday(\"Easter Monday\", datetime(\"2019\"), \"UK\")`}</code>\n      </pre>\n    </div>\n  </>\n);\n\nconst StyledTooltip = (props: any) => {\n  const theme = useTheme();\n  return (\n    <ClassNames>\n      {({ css }) => (\n        <Tooltip\n          overlayClassName={css`\n            .ant-tooltip-content {\n              min-width: ${theme.gridUnit * 125}px;\n              max-height: 410px;\n              overflow-y: scroll;\n\n              .ant-tooltip-inner {\n                max-width: ${theme.gridUnit * 125}px;\n                h3 {\n                  font-size: ${theme.typography.sizes.m}px;\n                  font-weight: ${theme.typography.weights.bold};\n                }\n                h4 {\n                  font-size: ${theme.typography.sizes.m}px;\n                  font-weight: ${theme.typography.weights.bold};\n                }\n                pre {\n                  border: none;\n                  text-align: left;\n                  word-break: break-word;\n                  font-size: ${theme.typography.sizes.s}px;\n                }\n              }\n            }\n          `}\n          {...props}\n        />\n      )}\n    </ClassNames>\n  );\n};\n\nexport default function DateFunctionTooltip(props: any) {\n  return <StyledTooltip title={TIME_PICKER_HELPER} {...props} />;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { SEPARATOR, t } from '@superset-ui/core';\nimport { Input } from 'src/components/Input';\nimport { InfoTooltipWithTrigger } from '@superset-ui/chart-controls';\nimport { FrameComponentProps } from 'src/explore/components/controls/DateFilterControl/types';\nimport DateFunctionTooltip from './DateFunctionTooltip';\n\nfunction getAdvancedRange(value: string): string {\n  if (value.includes(SEPARATOR)) {\n    return value;\n  }\n  if (value.startsWith('Last')) {\n    return [value, ''].join(SEPARATOR);\n  }\n  if (value.startsWith('Next')) {\n    return ['', value].join(SEPARATOR);\n  }\n  return SEPARATOR;\n}\n\nexport function AdvancedFrame(props: FrameComponentProps) {\n  const advancedRange = getAdvancedRange(props.value || '');\n  const [since, until] = advancedRange.split(SEPARATOR);\n  if (advancedRange !== props.value) {\n    props.onChange(getAdvancedRange(props.value || ''));\n  }\n\n  function onChange(control: 'since' | 'until', value: string) {\n    if (control === 'since') {\n      props.onChange(`${value}${SEPARATOR}${until}`);\n    } else {\n      props.onChange(`${since}${SEPARATOR}${value}`);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"section-title\">\n        {t('Configure Advanced Time Range ')}\n        <DateFunctionTooltip placement=\"rightBottom\">\n          <i className=\"fa fa-info-circle text-muted\" />\n        </DateFunctionTooltip>\n      </div>\n      <div className=\"control-label\">\n        {t('START (INCLUSIVE)')}{' '}\n        <InfoTooltipWithTrigger\n          tooltip={t('Start date included in time range')}\n          placement=\"right\"\n        />\n      </div>\n      <Input\n        key=\"since\"\n        value={since}\n        onChange={e => onChange('since', e.target.value)}\n      />\n      <div className=\"control-label\">\n        {t('END (EXCLUSIVE)')}{' '}\n        <InfoTooltipWithTrigger\n          tooltip={t('End date excluded from time range')}\n          placement=\"right\"\n        />\n      </div>\n      <Input\n        key=\"until\"\n        value={until}\n        onChange={e => onChange('until', e.target.value)}\n      />\n    </>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { forwardRef, MouseEvent, ReactNode, RefObject } from 'react';\n\nimport { css, styled, useTheme, t } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\n\nexport type DateLabelProps = {\n  label: ReactNode;\n  isActive?: boolean;\n  isPlaceholder?: boolean;\n  onClick?: (event: MouseEvent) => void;\n};\n\n// This is the color that antd components (such as Select or Input) use on hover\n// TODO: use theme.colors.primary.base here and in antd components\nconst ACTIVE_BORDER_COLOR = '#45BED6';\n\nconst LabelContainer = styled.div<{\n  isActive?: boolean;\n  isPlaceholder?: boolean;\n}>`\n  ${({ theme, isActive, isPlaceholder }) => css`\n    width: 100%;\n    height: ${theme.gridUnit * 8}px;\n\n    display: flex;\n    align-items: center;\n    flex-wrap: nowrap;\n\n    padding: 0 ${theme.gridUnit * 3}px;\n\n    background-color: ${theme.colors.grayscale.light5};\n\n    border: 1px solid\n      ${isActive ? ACTIVE_BORDER_COLOR : theme.colors.grayscale.light2};\n    border-radius: ${theme.borderRadius}px;\n\n    cursor: pointer;\n\n    transition: border-color 0.3s cubic-bezier(0.65, 0.05, 0.36, 1);\n    :hover,\n    :focus {\n      border-color: ${ACTIVE_BORDER_COLOR};\n    }\n\n    .date-label-content {\n      color: ${isPlaceholder\n        ? theme.colors.grayscale.light1\n        : theme.colors.grayscale.dark1};\n      overflow: hidden;\n      text-overflow: ellipsis;\n      min-width: 0;\n      flex-shrink: 1;\n      white-space: nowrap;\n    }\n\n    span[role='img'] {\n      margin-left: auto;\n      padding-left: ${theme.gridUnit}px;\n\n      & > span[role='img'] {\n        line-height: 0;\n      }\n    }\n  `}\n`;\n\nexport const DateLabel = forwardRef(\n  (props: DateLabelProps, ref: RefObject<HTMLSpanElement>) => {\n    const theme = useTheme();\n    return (\n      <LabelContainer {...props} tabIndex={0}>\n        <span className=\"date-label-content\" ref={ref}>\n          {typeof props.label === 'string' ? t(props.label) : props.label}\n        </span>\n        <Icons.CalendarOutlined\n          iconSize=\"s\"\n          iconColor={theme.colors.grayscale.base}\n        />\n      </LabelContainer>\n    );\n  },\n);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactNode, useState, useEffect, useMemo } from 'react';\nimport {\n  css,\n  styled,\n  t,\n  useTheme,\n  NO_TIME_RANGE,\n  SupersetTheme,\n  useCSSTextTruncation,\n  fetchTimeRange,\n} from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport ControlHeader from 'src/explore/components/ControlHeader';\nimport Modal from 'src/components/Modal';\nimport { Divider } from 'src/components';\nimport Icons from 'src/components/Icons';\nimport Select from 'src/components/Select/Select';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { useDebouncedEffect } from 'src/explore/exploreUtils';\nimport { SLOW_DEBOUNCE } from 'src/constants';\nimport { noOp } from 'src/utils/common';\nimport ControlPopover from '../ControlPopover/ControlPopover';\n\nimport { DateFilterControlProps, FrameType } from './types';\nimport {\n  DateFilterTestKey,\n  FRAME_OPTIONS,\n  guessFrame,\n  useDefaultTimeFilter,\n} from './utils';\nimport {\n  CommonFrame,\n  CalendarFrame,\n  CustomFrame,\n  AdvancedFrame,\n  DateLabel,\n} from './components';\nimport { CurrentCalendarFrame } from './components/CurrentCalendarFrame';\n\nconst StyledRangeType = styled(Select)`\n  width: 272px;\n`;\n\nconst ContentStyleWrapper = styled.div`\n  ${({ theme }) => css`\n    .ant-row {\n      margin-top: 8px;\n    }\n\n    .ant-input-number {\n      width: 100%;\n    }\n\n    .ant-picker {\n      padding: 4px 17px 4px;\n      border-radius: 4px;\n      width: 100%;\n    }\n\n    .ant-divider-horizontal {\n      margin: 16px 0;\n    }\n\n    .control-label {\n      font-size: 11px;\n      font-weight: ${theme.typography.weights.medium};\n      color: ${theme.colors.grayscale.light2};\n      line-height: 16px;\n      text-transform: uppercase;\n      margin: 8px 0;\n    }\n\n    .vertical-radio {\n      display: block;\n      height: 40px;\n      line-height: 40px;\n    }\n\n    .section-title {\n      font-style: normal;\n      font-weight: ${theme.typography.weights.bold};\n      font-size: 15px;\n      line-height: 24px;\n      margin-bottom: 8px;\n    }\n\n    .control-anchor-to {\n      margin-top: 16px;\n    }\n\n    .control-anchor-to-datetime {\n      width: 217px;\n    }\n\n    .footer {\n      text-align: right;\n    }\n  `}\n`;\n\nconst IconWrapper = styled.span`\n  span {\n    margin-right: ${({ theme }) => 2 * theme.gridUnit}px;\n    vertical-align: middle;\n  }\n  .text {\n    vertical-align: middle;\n  }\n  .error {\n    color: ${({ theme }) => theme.colors.error.base};\n  }\n`;\n\nconst getTooltipTitle = (\n  isLabelTruncated: boolean,\n  label: string | undefined,\n  range: string | undefined,\n) =>\n  isLabelTruncated ? (\n    <div>\n      {label && <strong>{label}</strong>}\n      {range && (\n        <div\n          css={(theme: SupersetTheme) => css`\n            margin-top: ${theme.gridUnit}px;\n          `}\n        >\n          {range}\n        </div>\n      )}\n    </div>\n  ) : (\n    range || null\n  );\n\nexport default function DateFilterLabel(props: DateFilterControlProps) {\n  const {\n    onChange,\n    onOpenPopover = noOp,\n    onClosePopover = noOp,\n    overlayStyle = 'Popover',\n    isOverflowingFilterBar = false,\n  } = props;\n  const defaultTimeFilter = useDefaultTimeFilter();\n\n  const value = props.value ?? defaultTimeFilter;\n  const [actualTimeRange, setActualTimeRange] = useState<string>(value);\n\n  const [show, setShow] = useState<boolean>(false);\n  const guessedFrame = useMemo(() => guessFrame(value), [value]);\n  const [frame, setFrame] = useState<FrameType>(guessedFrame);\n  const [lastFetchedTimeRange, setLastFetchedTimeRange] = useState(value);\n  const [timeRangeValue, setTimeRangeValue] = useState(value);\n  const [validTimeRange, setValidTimeRange] = useState<boolean>(false);\n  const [evalResponse, setEvalResponse] = useState<string>(value);\n  const [tooltipTitle, setTooltipTitle] = useState<ReactNode | null>(value);\n  const theme = useTheme();\n  const [labelRef, labelIsTruncated] = useCSSTextTruncation<HTMLSpanElement>();\n\n  useEffect(() => {\n    if (value === NO_TIME_RANGE) {\n      setActualTimeRange(NO_TIME_RANGE);\n      setTooltipTitle(null);\n      setValidTimeRange(true);\n      return;\n    }\n    fetchTimeRange(value).then(({ value: actualRange, error }) => {\n      if (error) {\n        setEvalResponse(error || '');\n        setValidTimeRange(false);\n        setTooltipTitle(value || null);\n      } else {\n        /*\n          HRT == human readable text\n          ADR == actual datetime range\n          +--------------+------+----------+--------+----------+-----------+\n          |              | Last | Previous | Custom | Advanced | No Filter |\n          +--------------+------+----------+--------+----------+-----------+\n          | control pill | HRT  | HRT      | ADR    | ADR      |   HRT     |\n          +--------------+------+----------+--------+----------+-----------+\n          | tooltip      | ADR  | ADR      | HRT    | HRT      |   ADR     |\n          +--------------+------+----------+--------+----------+-----------+\n        */\n        if (\n          guessedFrame === 'Common' ||\n          guessedFrame === 'Calendar' ||\n          guessedFrame === 'Current' ||\n          guessedFrame === 'No filter'\n        ) {\n          setActualTimeRange(value);\n          setTooltipTitle(\n            getTooltipTitle(labelIsTruncated, value, actualRange),\n          );\n        } else {\n          setActualTimeRange(actualRange || '');\n          setTooltipTitle(\n            getTooltipTitle(labelIsTruncated, actualRange, value),\n          );\n        }\n        setValidTimeRange(true);\n      }\n      setLastFetchedTimeRange(value);\n      setEvalResponse(actualRange || value);\n    });\n  }, [guessedFrame, labelIsTruncated, labelRef, value]);\n\n  useDebouncedEffect(\n    () => {\n      if (timeRangeValue === NO_TIME_RANGE) {\n        setEvalResponse(NO_TIME_RANGE);\n        setLastFetchedTimeRange(NO_TIME_RANGE);\n        setValidTimeRange(true);\n        return;\n      }\n      if (lastFetchedTimeRange !== timeRangeValue) {\n        fetchTimeRange(timeRangeValue).then(({ value: actualRange, error }) => {\n          if (error) {\n            setEvalResponse(error || '');\n            setValidTimeRange(false);\n          } else {\n            setEvalResponse(actualRange || '');\n            setValidTimeRange(true);\n          }\n          setLastFetchedTimeRange(timeRangeValue);\n        });\n      }\n    },\n    SLOW_DEBOUNCE,\n    [timeRangeValue],\n  );\n\n  function onSave() {\n    onChange(timeRangeValue);\n    setShow(false);\n    onClosePopover();\n  }\n\n  function onOpen() {\n    setTimeRangeValue(value);\n    setFrame(guessedFrame);\n    setShow(true);\n    onOpenPopover();\n  }\n\n  function onHide() {\n    setTimeRangeValue(value);\n    setFrame(guessedFrame);\n    setShow(false);\n    onClosePopover();\n  }\n\n  const toggleOverlay = () => {\n    if (show) {\n      onHide();\n    } else {\n      onOpen();\n    }\n  };\n\n  function onChangeFrame(value: FrameType) {\n    if (value === NO_TIME_RANGE) {\n      setTimeRangeValue(NO_TIME_RANGE);\n    }\n    setFrame(value);\n  }\n\n  const overlayContent = (\n    <ContentStyleWrapper>\n      <div className=\"control-label\">{t('RANGE TYPE')}</div>\n      <StyledRangeType\n        ariaLabel={t('RANGE TYPE')}\n        options={FRAME_OPTIONS}\n        value={frame}\n        onChange={onChangeFrame}\n      />\n      {frame !== 'No filter' && <Divider />}\n      {frame === 'Common' && (\n        <CommonFrame value={timeRangeValue} onChange={setTimeRangeValue} />\n      )}\n      {frame === 'Calendar' && (\n        <CalendarFrame value={timeRangeValue} onChange={setTimeRangeValue} />\n      )}\n      {frame === 'Current' && (\n        <CurrentCalendarFrame\n          value={timeRangeValue}\n          onChange={setTimeRangeValue}\n        />\n      )}\n      {frame === 'Advanced' && (\n        <AdvancedFrame value={timeRangeValue} onChange={setTimeRangeValue} />\n      )}\n      {frame === 'Custom' && (\n        <CustomFrame value={timeRangeValue} onChange={setTimeRangeValue} />\n      )}\n      {frame === 'No filter' && <div data-test={DateFilterTestKey.NoFilter} />}\n      <Divider />\n      <div>\n        <div className=\"section-title\">{t('Actual time range')}</div>\n        {validTimeRange && (\n          <div>\n            {evalResponse === 'No filter' ? t('No filter') : evalResponse}\n          </div>\n        )}\n        {!validTimeRange && (\n          <IconWrapper className=\"warning\">\n            <Icons.ErrorSolidSmall iconColor={theme.colors.error.base} />\n            <span className=\"text error\">{evalResponse}</span>\n          </IconWrapper>\n        )}\n      </div>\n      <Divider />\n      <div className=\"footer\">\n        <Button\n          buttonStyle=\"secondary\"\n          cta\n          key=\"cancel\"\n          onClick={onHide}\n          data-test={DateFilterTestKey.CancelButton}\n        >\n          {t('CANCEL')}\n        </Button>\n        <Button\n          buttonStyle=\"primary\"\n          cta\n          disabled={!validTimeRange}\n          key=\"apply\"\n          onClick={onSave}\n          data-test={DateFilterTestKey.ApplyButton}\n        >\n          {t('APPLY')}\n        </Button>\n      </div>\n    </ContentStyleWrapper>\n  );\n\n  const title = (\n    <IconWrapper>\n      <Icons.EditAlt iconColor={theme.colors.grayscale.base} />\n      <span className=\"text\">{t('Edit time range')}</span>\n    </IconWrapper>\n  );\n\n  const popoverContent = (\n    <ControlPopover\n      placement=\"right\"\n      trigger=\"click\"\n      content={overlayContent}\n      title={title}\n      defaultVisible={show}\n      visible={show}\n      onVisibleChange={toggleOverlay}\n      overlayStyle={{ width: '600px' }}\n      getPopupContainer={triggerNode =>\n        isOverflowingFilterBar\n          ? (triggerNode.parentNode as HTMLElement)\n          : document.body\n      }\n      destroyTooltipOnHide\n    >\n      <Tooltip\n        placement=\"top\"\n        title={tooltipTitle}\n        getPopupContainer={trigger => trigger.parentElement as HTMLElement}\n      >\n        <DateLabel\n          label={actualTimeRange}\n          isActive={show}\n          isPlaceholder={actualTimeRange === NO_TIME_RANGE}\n          data-test={DateFilterTestKey.PopoverOverlay}\n          ref={labelRef}\n        />\n      </Tooltip>\n    </ControlPopover>\n  );\n\n  const modalContent = (\n    <>\n      <Tooltip\n        placement=\"top\"\n        title={tooltipTitle}\n        getPopupContainer={trigger => trigger.parentElement as HTMLElement}\n      >\n        <DateLabel\n          onClick={toggleOverlay}\n          label={actualTimeRange}\n          isActive={show}\n          isPlaceholder={actualTimeRange === NO_TIME_RANGE}\n          data-test={DateFilterTestKey.ModalOverlay}\n          ref={labelRef}\n        />\n      </Tooltip>\n      {/* the zIndex value is from trying so that the Modal doesn't overlay the AdhocFilter */}\n      <Modal\n        title={title}\n        show={show}\n        onHide={toggleOverlay}\n        width=\"600px\"\n        hideFooter\n        zIndex={1030}\n      >\n        {overlayContent}\n      </Modal>\n    </>\n  );\n\n  return (\n    <>\n      <ControlHeader {...props} />\n      {overlayStyle === 'Modal' ? modalContent : popoverContent}\n    </>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport type SelectOptionType = {\n  value: string;\n  label: string;\n};\n\nexport type FrameType =\n  | 'Common'\n  | 'Calendar'\n  | 'Current'\n  | 'Custom'\n  | 'Advanced'\n  | 'No filter';\n\nexport type DateTimeGrainType =\n  | 'second'\n  | 'minute'\n  | 'hour'\n  | 'day'\n  | 'week'\n  | 'month'\n  | 'quarter'\n  | 'year';\n\nexport type CustomRangeKey =\n  | 'sinceMode'\n  | 'sinceDatetime'\n  | 'sinceGrain'\n  | 'sinceGrainValue'\n  | 'untilMode'\n  | 'untilDatetime'\n  | 'untilGrain'\n  | 'untilGrainValue'\n  | 'anchorMode'\n  | 'anchorValue';\n\nexport type DateTimeModeType = 'specific' | 'relative' | 'now' | 'today';\n\nexport type CustomRangeType = {\n  sinceMode: DateTimeModeType;\n  sinceDatetime: string;\n  sinceGrain: DateTimeGrainType;\n  sinceGrainValue: number;\n  untilMode: DateTimeModeType;\n  untilDatetime: string;\n  untilGrain: DateTimeGrainType;\n  untilGrainValue: number;\n  anchorMode: 'now' | 'specific';\n  anchorValue: string;\n};\n\nexport type CustomRangeDecodeType = {\n  customRange: CustomRangeType;\n  matchedFlag: boolean;\n};\n\nexport type CommonRangeType =\n  | 'Last day'\n  | 'Last week'\n  | 'Last month'\n  | 'Last quarter'\n  | 'Last year';\n\nexport const PreviousCalendarWeek = 'previous calendar week';\nexport const PreviousCalendarMonth = 'previous calendar month';\nexport const PreviousCalendarYear = 'previous calendar year';\nexport type CalendarRangeType =\n  | typeof PreviousCalendarWeek\n  | typeof PreviousCalendarMonth\n  | typeof PreviousCalendarYear;\n\nexport const CurrentDay = 'Current day';\nexport const CurrentWeek = 'Current week';\nexport const CurrentMonth = 'Current month';\nexport const CurrentYear = 'Current year';\nexport const CurrentQuarter = 'Current quarter';\nexport type CurrentRangeType =\n  | typeof CurrentDay\n  | typeof CurrentWeek\n  | typeof CurrentMonth\n  | typeof CurrentQuarter\n  | typeof CurrentYear;\n\nexport type FrameComponentProps = {\n  onChange: (timeRange: string) => void;\n  value: string;\n};\n\nexport interface DateFilterControlProps {\n  name: string;\n  onChange: (timeRange: string) => void;\n  value?: string;\n  onOpenPopover?: () => void;\n  onClosePopover?: () => void;\n  overlayStyle?: 'Modal' | 'Popover';\n  isOverflowingFilterBar?: boolean;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport moment from 'moment';\nimport { t } from '@superset-ui/core';\nimport {\n  SelectOptionType,\n  PreviousCalendarWeek,\n  PreviousCalendarMonth,\n  PreviousCalendarYear,\n  CommonRangeType,\n  CalendarRangeType,\n  CurrentRangeType,\n  CurrentWeek,\n  CurrentMonth,\n  CurrentYear,\n  CurrentQuarter,\n  CurrentDay,\n} from 'src/explore/components/controls/DateFilterControl/types';\n\nexport const FRAME_OPTIONS: SelectOptionType[] = [\n  { value: 'Common', label: t('Last') },\n  { value: 'Calendar', label: t('Previous') },\n  { value: 'Current', label: t('Current') },\n  { value: 'Custom', label: t('Custom') },\n  { value: 'Advanced', label: t('Advanced') },\n  { value: 'No filter', label: t('No filter') },\n];\n\nexport const COMMON_RANGE_OPTIONS: SelectOptionType[] = [\n  { value: 'Last day', label: t('Last day') },\n  { value: 'Last week', label: t('Last week') },\n  { value: 'Last month', label: t('Last month') },\n  { value: 'Last quarter', label: t('Last quarter') },\n  { value: 'Last year', label: t('Last year') },\n];\nexport const COMMON_RANGE_VALUES_SET = new Set(\n  COMMON_RANGE_OPTIONS.map(({ value }) => value),\n);\n\nexport const CALENDAR_RANGE_OPTIONS: SelectOptionType[] = [\n  { value: PreviousCalendarWeek, label: t('previous calendar week') },\n  { value: PreviousCalendarMonth, label: t('previous calendar month') },\n  { value: PreviousCalendarYear, label: t('previous calendar year') },\n];\nexport const CALENDAR_RANGE_VALUES_SET = new Set(\n  CALENDAR_RANGE_OPTIONS.map(({ value }) => value),\n);\n\nexport const CURRENT_RANGE_OPTIONS: SelectOptionType[] = [\n  { value: CurrentDay, label: t('Current day') },\n  { value: CurrentWeek, label: t('Current week') },\n  { value: CurrentMonth, label: t('Current month') },\n  { value: CurrentQuarter, label: t('Current quarter') },\n  { value: CurrentYear, label: t('Current year') },\n];\nexport const CURRENT_RANGE_VALUES_SET = new Set(\n  CURRENT_RANGE_OPTIONS.map(({ value }) => value),\n);\n\nconst GRAIN_OPTIONS = [\n  { value: 'second', label: (rel: string) => t('Seconds %s', rel) },\n  { value: 'minute', label: (rel: string) => t('Minutes %s', rel) },\n  { value: 'hour', label: (rel: string) => t('Hours %s', rel) },\n  { value: 'day', label: (rel: string) => t('Days %s', rel) },\n  { value: 'week', label: (rel: string) => t('Weeks %s', rel) },\n  { value: 'month', label: (rel: string) => t('Months %s', rel) },\n  { value: 'quarter', label: (rel: string) => t('Quarters %s', rel) },\n  { value: 'year', label: (rel: string) => t('Years %s', rel) },\n];\n\nexport const SINCE_GRAIN_OPTIONS: SelectOptionType[] = GRAIN_OPTIONS.map(\n  item => ({\n    value: item.value,\n    label: item.label(t('Before')),\n  }),\n);\n\nexport const UNTIL_GRAIN_OPTIONS: SelectOptionType[] = GRAIN_OPTIONS.map(\n  item => ({\n    value: item.value,\n    label: item.label(t('After')),\n  }),\n);\n\nexport const SINCE_MODE_OPTIONS: SelectOptionType[] = [\n  { value: 'specific', label: t('Specific Date/Time') },\n  { value: 'relative', label: t('Relative Date/Time') },\n  { value: 'now', label: t('Now') },\n  { value: 'today', label: t('Midnight') },\n];\n\nexport const UNTIL_MODE_OPTIONS: SelectOptionType[] =\n  SINCE_MODE_OPTIONS.slice();\n\nexport const COMMON_RANGE_SET: Set<CommonRangeType> = new Set([\n  'Last day',\n  'Last week',\n  'Last month',\n  'Last quarter',\n  'Last year',\n]);\n\nexport const CALENDAR_RANGE_SET: Set<CalendarRangeType> = new Set([\n  PreviousCalendarWeek,\n  PreviousCalendarMonth,\n  PreviousCalendarYear,\n]);\n\nexport const CURRENT_CALENDAR_RANGE_SET: Set<CurrentRangeType> = new Set([\n  CurrentDay,\n  CurrentWeek,\n  CurrentMonth,\n  CurrentQuarter,\n  CurrentYear,\n]);\n\nexport const MOMENT_FORMAT = 'YYYY-MM-DD[T]HH:mm:ss';\nexport const SEVEN_DAYS_AGO = moment()\n  .utc()\n  .startOf('day')\n  .subtract(7, 'days')\n  .format(MOMENT_FORMAT);\nexport const MIDNIGHT = moment().utc().startOf('day').format(MOMENT_FORMAT);\n\nexport const LOCALE_MAPPING = {\n  en: 'en_US',\n  fr: 'fr_FR',\n  es: 'es_ES',\n  it: 'it_IT',\n  zh: 'zh_CN',\n  ja: 'ja_JP',\n  de: 'de_DE',\n  pt: 'pt_PT',\n  pt_BR: 'pt_BR',\n  ru: 'ru_RU',\n  ko: 'ko_KR',\n  sk: 'sk_SK',\n  sl: 'sl_SI',\n  nl: 'nl_NL',\n};\n\nexport enum DateFilterTestKey {\n  CommonFrame = 'common-frame',\n  ModalOverlay = 'modal-overlay',\n  PopoverOverlay = 'time-range-trigger',\n  NoFilter = 'no-filter',\n  CancelButton = 'cancel-button',\n  ApplyButton = 'date-filter-control__apply-button',\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport moment, { Moment } from 'moment';\nimport { CustomRangeType } from 'src/explore/components/controls/DateFilterControl/types';\nimport { MOMENT_FORMAT } from './constants';\n\n/**\n * RegExp to test a string for a full ISO 8601 Date\n * Does not do any sort of date validation, only checks if the string is according to the ISO 8601 spec.\n *  YYYY-MM-DDThh:mm:ss\n *  YYYY-MM-DDThh:mm:ssTZD\n *  YYYY-MM-DDThh:mm:ss.sTZD\n * @see: https://www.w3.org/TR/NOTE-datetime\n */\nconst iso8601 = String.raw`\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.\\d+)?(?:(?:[+-]\\d\\d:\\d\\d)|Z)?`;\nconst datetimeConstant = String.raw`(?:TODAY|NOW)`;\n\nexport const ISO8601_AND_CONSTANT = RegExp(\n  String.raw`^${iso8601}$|^${datetimeConstant}$`,\n  'i',\n);\n\nconst SPECIFIC_MODE = ['specific', 'today', 'now'];\n\nexport const dttmToMoment = (dttm: string): Moment => {\n  if (dttm === 'now') {\n    return moment().utc().startOf('second');\n  }\n  if (dttm === 'today') {\n    return moment().utc().startOf('day');\n  }\n  return moment(dttm);\n};\n\nexport const dttmToString = (dttm: string): string =>\n  dttmToMoment(dttm).format(MOMENT_FORMAT);\n\nexport const customTimeRangeEncode = (customRange: CustomRangeType): string => {\n  const {\n    sinceDatetime,\n    sinceMode,\n    sinceGrain,\n    sinceGrainValue,\n    untilDatetime,\n    untilMode,\n    untilGrain,\n    untilGrainValue,\n    anchorValue,\n  } = { ...customRange };\n  // specific : specific\n  if (SPECIFIC_MODE.includes(sinceMode) && SPECIFIC_MODE.includes(untilMode)) {\n    const since =\n      sinceMode === 'specific' ? dttmToString(sinceDatetime) : sinceMode;\n    const until =\n      untilMode === 'specific' ? dttmToString(untilDatetime) : untilMode;\n    return `${since} : ${until}`;\n  }\n\n  // specific : relative\n  if (SPECIFIC_MODE.includes(sinceMode) && untilMode === 'relative') {\n    const since =\n      sinceMode === 'specific' ? dttmToString(sinceDatetime) : sinceMode;\n    const until = `DATEADD(DATETIME(\"${since}\"), ${untilGrainValue}, ${untilGrain})`;\n    return `${since} : ${until}`;\n  }\n\n  // relative : specific\n  if (sinceMode === 'relative' && SPECIFIC_MODE.includes(untilMode)) {\n    const until =\n      untilMode === 'specific' ? dttmToString(untilDatetime) : untilMode;\n    const since = `DATEADD(DATETIME(\"${until}\"), ${-Math.abs(\n      sinceGrainValue,\n    )}, ${sinceGrain})`;\n    return `${since} : ${until}`;\n  }\n\n  // relative : relative\n  const since = `DATEADD(DATETIME(\"${anchorValue}\"), ${-Math.abs(\n    sinceGrainValue,\n  )}, ${sinceGrain})`;\n  const until = `DATEADD(DATETIME(\"${anchorValue}\"), ${untilGrainValue}, ${untilGrain})`;\n  return `${since} : ${until}`;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  NO_TIME_RANGE,\n  JsonObject,\n  customTimeRangeDecode,\n} from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\nimport {\n  COMMON_RANGE_VALUES_SET,\n  CALENDAR_RANGE_VALUES_SET,\n  CURRENT_RANGE_VALUES_SET,\n} from '.';\nimport { FrameType } from '../types';\n\nexport const guessFrame = (timeRange: string): FrameType => {\n  if (COMMON_RANGE_VALUES_SET.has(timeRange)) {\n    return 'Common';\n  }\n  if (CALENDAR_RANGE_VALUES_SET.has(timeRange)) {\n    return 'Calendar';\n  }\n  if (CURRENT_RANGE_VALUES_SET.has(timeRange)) {\n    return 'Current';\n  }\n  if (timeRange === NO_TIME_RANGE) {\n    return 'No filter';\n  }\n  if (customTimeRangeDecode(timeRange).matchedFlag) {\n    return 'Custom';\n  }\n  return 'Advanced';\n};\n\nexport function useDefaultTimeFilter() {\n  return (\n    useSelector(\n      (state: JsonObject) => state?.common?.conf?.DEFAULT_TIME_FILTER,\n    ) ?? NO_TIME_RANGE\n  );\n}\n"],"names":["AntdRangePicker","AntdDatePicker","RangePicker","styled","theme","gridUnit","DatePicker","Popover","props","_jsx","AntdPopover","getSectionContainerElement","_document$getElementB","document","getElementById","lastElementChild","getElementYVisibilityRatioOnContainer","node","_window","_node$getBoundingClie","containerHeight","window","innerHeight","nodePositionInViewport","getBoundingClientRect","top","ControlPopover","getPopupContainer","getVisibilityRatio","visible","visibleProp","destroyTooltipOnHide","triggerElementRef","useRef","setVisible","useState","undefined","defaultVisible","placement","setPlacement","React","calculatePlacement","useCallback","visibilityRatio","current","changeContainerScrollStatus","element","style","setProperty","handleGetPopupContainer","triggerNode","body","handleOnVisibleChange","onVisibleChange","handleDocumentKeyDownListener","event","key","useEffect","addEventListener","removeEventListener","arrowPointAtCenter","CommonFrame","commonRange","COMMON_RANGE_SET","has","value","onChange","_jsxs","_Fragment","children","className","t","Radio","Group","e","target","COMMON_RANGE_OPTIONS","map","label","CalendarFrame","CALENDAR_RANGE_SET","PreviousCalendarWeek","CALENDAR_RANGE_OPTIONS","CurrentCalendarFrame","CURRENT_CALENDAR_RANGE_SET","CurrentWeek","newValue","trim","CURRENT_RANGE_OPTIONS","CustomFrame","_locales$LOCALE_MAPPI","customRange","matchedFlag","customTimeRangeDecode","customTimeRangeEncode","sinceDatetime","sinceMode","sinceGrain","sinceGrainValue","untilDatetime","untilMode","untilGrain","untilGrainValue","anchorValue","anchorMode","control","onGrainValue","_isInteger","localFromFlaskBabel","useSelector","state","_state$common","common","locale","datePickerLocale","locales","LOCALE_MAPPING","Row","gutter","Col","span","InfoTooltipWithTrigger","tooltip","Select","ariaLabel","options","SINCE_MODE_OPTIONS","showTime","defaultValue","dttmToMoment","datetime","format","MOMENT_FORMAT","allowClear","InputNumber","placeholder","Math","abs","min","onStep","SINCE_GRAIN_OPTIONS","UNTIL_MODE_OPTIONS","UNTIL_GRAIN_OPTIONS","align","option","radioValue","MIDNIGHT","TIME_PICKER_HELPER","StyledTooltip","useTheme","ClassNames","css","Tooltip","overlayClassName","typography","sizes","m","weights","bold","s","DateFunctionTooltip","title","getAdvancedRange","includes","SEPARATOR","startsWith","join","AdvancedFrame","advancedRange","since","until","split","Input","ACTIVE_BORDER_COLOR","LabelContainer","div","isActive","isPlaceholder","colors","grayscale","light5","light2","borderRadius","light1","dark1","DateLabel","forwardRef","ref","tabIndex","Icons","CalendarOutlined","iconSize","iconColor","base","StyledRangeType","ContentStyleWrapper","medium","IconWrapper","error","getTooltipTitle","isLabelTruncated","range","DateFilterLabel","_props$value","onOpenPopover","noOp","onClosePopover","overlayStyle","isOverflowingFilterBar","defaultTimeFilter","useDefaultTimeFilter","actualTimeRange","setActualTimeRange","show","setShow","guessedFrame","useMemo","guessFrame","frame","setFrame","lastFetchedTimeRange","setLastFetchedTimeRange","timeRangeValue","setTimeRangeValue","validTimeRange","setValidTimeRange","evalResponse","setEvalResponse","tooltipTitle","setTooltipTitle","labelRef","labelIsTruncated","useCSSTextTruncation","onHide","NO_TIME_RANGE","fetchTimeRange","then","actualRange","useDebouncedEffect","SLOW_DEBOUNCE","toggleOverlay","overlayContent","FRAME_OPTIONS","Divider","ErrorSolidSmall","Button","buttonStyle","cta","onClick","disabled","EditAlt","popoverContent","trigger","content","width","parentNode","parentElement","modalContent","Modal","hideFooter","zIndex","ControlHeader","PreviousCalendarMonth","PreviousCalendarYear","CurrentDay","CurrentMonth","CurrentYear","CurrentQuarter","COMMON_RANGE_VALUES_SET","Set","CALENDAR_RANGE_VALUES_SET","CURRENT_RANGE_VALUES_SET","GRAIN_OPTIONS","rel","item","slice","moment","utc","startOf","subtract","en","fr","es","it","zh","ja","de","pt","pt_BR","ru","ko","sk","sl","nl","DateFilterTestKey","iso8601","String","raw","datetimeConstant","SPECIFIC_MODE","RegExp","dttm","dttmToString","timeRange","_useSelector","_state$common$conf","conf","DEFAULT_TIME_FILTER"],"sourceRoot":""}