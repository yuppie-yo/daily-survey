{"version":3,"file":"cbc41d4aefdee4f12a87.chunk.js","mappings":"kHAKAA,EAAQ,GAAaA,EAAQ,QAA2BC,EAExD,IAAIC,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAI3PS,EAAUC,EAFD,EAAQ,SAMjBC,EAAcD,EAFD,EAAQ,QAIrBE,EAAsB,EAAQ,QAElC,SAASF,EAAuBG,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEE,QAASF,EAAO,CA4E9FlB,EAAQ,GArDuB,SAAkCqB,GAC/D,IAAIC,EAAsBD,EAAMC,oBAC5BC,EAAwBF,EAAMG,iBAC9BA,OAA6CvB,IAA1BsB,EAAsC,MAAQA,EAEjEE,EAA8B,SAAqCC,GACrE,IAAIC,EAAcD,EAAMC,YACpBC,EAAaF,EAAME,WACnBC,EAAqBH,EAAMG,mBAC3BC,EAAoBJ,EAAMI,kBAC1BC,EAAeL,EAAMK,aACrBC,EAA+BN,EAAMM,6BACrCC,EAA4BP,EAAMO,0BAClCC,EAAWR,EAAMQ,SACjBC,EAAWT,EAAMS,SACjBC,EApCR,SAAkClB,EAAKmB,GAAQ,IAAIhC,EAAS,CAAC,EAAG,IAAK,IAAIC,KAAKY,EAAWmB,EAAKC,QAAQhC,IAAM,GAAkBH,OAAOQ,UAAUC,eAAeC,KAAKK,EAAKZ,KAAcD,EAAOC,GAAKY,EAAIZ,IAAM,OAAOD,CAAQ,CAoCvMkC,CAAyBb,EAAO,CAAC,cAAe,aAAc,qBAAsB,oBAAqB,eAAgB,+BAAgC,4BAA6B,WAAY,aAE9Mc,GAAkB,EAAIvB,EAAoBwB,oBAAoB,CAChEd,YAAaA,EACbC,WAAYA,EACZC,mBAAoBA,EACpBC,kBAAmBA,EACnBC,aAAcA,EACdC,6BAA8BA,EAC9BC,0BAA2BA,IAEzBS,EA7CiC,SAA4CpB,EAAqBK,EAAaO,GAYrH,OAAO,SAAUR,GACf,IAZmEiB,EAC/DC,EACAC,EAUAC,EAAgBxB,EAAoBI,EAAMqB,MAC1CC,GAZAJ,GAD+DD,EAatBjB,GAZ5BkB,MACbC,EAAaF,EAAKE,WAEf,YACAA,GAAcX,GAAYP,IAAgBiB,GAC7CV,EAASU,EAEb,GAMA,OAAO9B,EAAQM,QAAQ6B,cAAcH,EAAe5C,EAAS,CAAEgD,QAASF,GAAetB,GACzF,CACF,CA4B8ByB,CAAmC7B,EAAqBK,EAAaO,GAC/F,OAAOpB,EAAQM,QAAQ6B,cACrBzB,EACAY,EACAI,EAAgBY,KAAI,SAAUC,GAC5B,OAAOX,EAAoBxC,EAAS,CAAC,EAAGmD,EAAW,CACjDR,aAAcV,IAElB,IAEJ,EAcA,OAZAV,EAA4B6B,UAAY,CACtC3B,YAAaX,EAAYI,QAAQmC,OAAOC,WACxC5B,WAAYZ,EAAYI,QAAQmC,OAAOC,WACvC3B,mBAAoBb,EAAYI,QAAQmC,OACxCzB,kBAAmBd,EAAYI,QAAQmC,OACvCxB,aAAcf,EAAYI,QAAQqC,KAClCzB,6BAA8BhB,EAAYI,QAAQqC,KAClDxB,0BAA2BjB,EAAYI,QAAQqC,KAC/CvB,SAAUlB,EAAYI,QAAQsC,KAC9BvB,SAAUnB,EAAYI,QAAQqC,MAGzBhC,CACT,EAGAzB,EAAQ,GAAaiB,EAAoB0C,U,sFCpElC,MAAMC,EAAeA,EAAGC,OAAMC,WACnC,MAAMC,GACJC,EAAAA,EAAAA,IAAA,QAAMC,UAAU,UAASC,SACtBJ,IAIL,GAAID,EAAM,CACR,MAAMM,GAAWC,EAAAA,EAAAA,GAAaP,GACxBQ,GAAQC,EAAAA,EAAAA,GAAE,kBAAmBH,GACnC,OACEH,EAAAA,EAAAA,IAACO,EAAAA,EAAO,CAACF,MAAOA,EAAOG,UAAU,SAAQN,SACtCH,G,CAIP,OAAOA,CAAQ,C,6RCvBV,MAAMU,EAAiB,CAC5B,CACEC,OAAOJ,EAAAA,EAAAA,GAAE,WACT1B,MAAO,WAET,CACE8B,OAAOJ,EAAAA,EAAAA,GAAE,QACT1B,MAAO,SCTJ,IAAK+B,GAAZ,SAAYA,GACVA,EAAA,kBACAA,EAAA,WACD,CAHD,CAAYA,IAAAA,EAAU,K,gBCoBtB,MAAMC,EAAYC,EAAAA,EAAG;;;;;;EAQfC,GAAcC,EAAAA,EAAAA,IAAOC,EAAAA,QAAM;;;;;;;EAS3BC,EAAcC,GAAyBL,EAAAA,EAAG;iBACd,EAAjBK,EAAMC;WACZD,EAAME,OAAOC,UAAUC;EAG5BC,EAAyBR,EAAAA,GAAOS,GAAG;;;aAG5B,EAAGN,WACZ,GAAoB,EAAjBA,EAAMC,cAAmC,EAAjBD,EAAMC,cAAmC,EAAjBD,EAAMC;;;;;iBAK5C,EAAGD,WAAYA,EAAMO,WAAWC,MAAMC;aAC1C,EAAGT,WAAYA,EAAME,OAAOC,UAAUC;;;;;;sBAM7B,EAAGJ,WAAYA,EAAMC,SAAW;;EAIhDS,EAAuBb,EAAAA,GAAOS,GAAG;;;YAG3B,EAAGN,WAAYA,EAAMC;mBACd,EAAGD,WAA6B,EAAjBA,EAAMC;;;;;;;;;;;;;;;;;mBAiBrB,EAAGD,WAAYA,EAAMC,SAAW;aACtC,EAAGD,WAAYA,EAAME,OAAOS,MAAMP;;EAIzCQ,GAAiBf,EAAAA,EAAAA,IAAOgB,EAAAA,GAAS;;gBAEvB,EAAGb,WAAYA,EAAMC;EAY/Ba,EAAe,CACnBC,KAAM,GACNC,YAAavB,EAAWwB,QACxBC,OAAQ,GACRC,MAAO,GACPC,OAAQ,GACRC,UAAW,GACXC,YAAa,IA2Wf,EAxWA,SAA+B9E,GAC7B,MAAM,KAAE+E,EAAI,eAAEC,EAAc,gBAAEC,EAAe,OAAEC,EAAM,KAAEC,GAASnF,GAEzDoF,EAAaC,IAAkBC,EAAAA,EAAAA,UAAoB,IACrDhB,KAEEiB,EAAaC,IAAkBF,EAAAA,EAAAA,WAAkB,GAElDG,EAAsB,OAATV,GAIjBW,OAAO,QAAEC,EAAO,SAAEC,EAAUzB,MAAO0B,GAAY,cAC/CC,EAAa,eACbC,EAAc,eACdC,EAAc,WACdC,IACEC,EAAAA,EAAAA,IACF,oBACAtD,EAAAA,EAAAA,GAAE,oBACFoC,GAGImB,EAAkBA,CAAC5B,EAAcrD,KACrCmE,GAAee,IAAe,IACzBA,EACH,CAAC7B,GAAOrD,KACP,EAiBCmF,GAAkBC,EAAAA,EAAAA,cAAY,KAAK,IAAAC,EAAAC,EACvC,IAAKZ,EACH,OAAO,KAET,MAAMlB,EAAwB,GACxBC,EAAsB,GAoB5B,OAlBe,OAAf4B,EAAAX,EAASlB,SAAT6B,EAAiBE,SAAQC,IACvBhC,EAAOiC,KAAK,CACV3H,IAAK0H,EAAcE,GACnB5D,MAAO0D,EAAcG,OACjB,GAAGH,EAAcG,UAAUH,EAAcI,aACzCJ,EAAcI,WAClB5F,MAAOwF,EAAcE,IACrB,IAGU,OAAdJ,EAAAZ,EAASjB,QAAT6B,EAAgBC,SAAQM,IACtBpC,EAAMgC,KAAK,CACT3H,IAAK+H,EAAaH,GAClB5D,MAAO+D,EAAaxC,KACpBrD,MAAO6F,EAAaH,IACpB,IAGG,CAAElC,SAAQC,QAAO,GACvB,CAAS,MAARiB,OAAQ,EAARA,EAAUlB,OAAgB,MAARkB,OAAQ,EAARA,EAAUjB,SAGhCqC,EAAAA,EAAAA,YAAU,KACHvB,EAEmB,QAAT,MAAJV,OAAI,EAAJA,EAAM6B,KAAgBjB,GAAYE,GAC3CC,EAAcf,EAAK6B,IAFnBvB,EAAe,IAAKf,G,GAIrB,CAACS,KAEJiC,EAAAA,EAAAA,YAAU,KACR,GAAIpB,EAAU,CACZP,EAAe,IAAKO,EAAUgB,GAAQ,MAAJ7B,OAAI,EAAJA,EAAM6B,KACxC,MAAMK,EAAwBZ,IAC9BF,EAAgB,UAA+B,MAArBc,OAAqB,EAArBA,EAAuBvC,SAAU,IAC3DyB,EAAgB,SAA8B,MAArBc,OAAqB,EAArBA,EAAuBtC,QAAS,G,IAE1D,CAACiB,IAGJ,MAAMsB,EAAkB9B,GAAe,CAAC,GACxC4B,EAAAA,EAAAA,YAAU,KA7DOG,IAAKC,EAEP,MAAXhC,GAAAA,EAAab,MACF,MAAXa,GAAAA,EAAaR,QACK,OADCwC,EACnBhC,EAAYV,SAAZ0C,EAAoBtI,OAEpB0G,GAAe,GAEfA,GAAe,EAsDP,GACT,CAAC0B,EAAgB3C,KAAM2C,EAAgBtC,OAAuB,MAAfsC,OAAe,EAAfA,EAAiBxC,SAQnE,MAAM2C,EAAgB1I,IACpBwH,EAAgBxH,EAAO4F,KAAM5F,EAAOuC,MAAM,EAetCoG,EAAOA,KACXrB,IACAZ,EAAe,IAAKf,IACpBY,GAAQ,EAgCJqC,GAAmBC,EAAAA,EAAAA,UACvB,IACE,CAACC,EAAQ,GAAIC,EAAcC,KACzB,MAAMC,EAAQC,IAAAA,OAAa,CACzBC,OAAQL,EACRC,OACAK,UAAWJ,IAEb,OAAOK,EAAAA,EAAeC,IAAI,CACxBC,SAAU,6CAA6CN,MACtDO,MAAKC,IAOC,CAAEC,KANID,EAASE,KAAKC,OAAO7G,KAC/B8G,IAA0C,CACzCxF,MAAOwF,EAAKC,KACZvH,MAAOsH,EAAKtH,UAGKwH,WAAYN,EAASE,KAAKK,SAC/C,GAEN,IAGIC,GAAkBpB,EAAAA,EAAAA,UACtB,IACE,CAACC,EAAQ,GAAIC,EAAcC,KACzB,MAAMC,EAAQC,IAAAA,OAAa,CACzBC,OAAQL,EACRC,OACAK,UAAWJ,IAEb,OAAOK,EAAAA,EAAeC,IAAI,CACxBC,SAAU,4CAA4CN,MACrDO,MAAKC,IAOC,CAAEC,KANID,EAASE,KAAKC,OAAO7G,KAC/B8G,IAA0C,CACzCxF,MAAOwF,EAAKC,KACZvH,MAAOsH,EAAKtH,UAGKwH,WAAYN,EAASE,KAAKK,SAC/C,GAEN,IAGF,OACErG,EAAAA,EAAAA,IAACc,EAAW,CACVb,UAAU,qBACVsG,YAAU,EACV1D,KAAMA,EACND,OAAQoC,EACRwB,kBAAmBrD,GAAa7C,EAAAA,EAAAA,GAAE,SAAUA,EAAAA,EAAAA,GAAE,OAC9CmG,qBAAsBxD,EACtByD,uBAnFWC,KAAK,IAAAC,EAAAC,EAClB,MAAMzE,EAAmB,GACnBC,EAAkB,GAEN,OAAlBuE,EAAA9D,EAAYV,SAAZwE,EAAoBzC,SAAQ2C,GAAS1E,EAAOiC,KAAKyC,EAAMpK,OACtC,OAAjBmK,EAAA/D,EAAYT,QAAZwE,EAAmB1C,SAAQ4C,GAAQ1E,EAAMgC,KAAK0C,EAAKrK,OAEnD,MAAMqJ,EAAY,IAAKjD,EAAaV,SAAQC,SAE5C,GAAIc,GAAcL,EAAYwB,GAAI,CAChC,MAAM0C,EAAWlE,EAAYwB,UACtByB,EAAKzB,GACZZ,EAAesD,EAAUjB,GAAMF,MAAKC,IAC7BA,IAGLnD,EAAgB,gBAChBqC,IAAM,G,MAEClC,GACTW,EAAesC,GAAMF,MAAKC,IACnBA,IACLnD,GAAgBrC,EAAAA,EAAAA,GAAE,eAClB0E,IAAM,G,EA6DRiC,MAAM,MACNC,SAAS,SACT7G,OACE8G,EAAAA,EAAAA,IAAA,MAAAjH,SAAA,CACGiD,GACCnD,EAAAA,EAAAA,IAACoH,EAAAA,EAAMC,QAAO,CAACxG,IAAKI,KAEpBjB,EAAAA,EAAAA,IAACoH,EAAAA,EAAME,UAAS,CAACzG,IAAKI,IAEvBkC,GAAa7C,EAAAA,EAAAA,GAAE,cAAeA,EAAAA,EAAAA,GAAE,eAEpCJ,UAEDF,EAAAA,EAAAA,IAACuB,EAAsB,CAAArB,UACrBiH,EAAAA,EAAAA,IAAA,OAAKlH,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,IAAC4B,EAAoB,CAAA1B,UACnBF,EAAAA,EAAAA,IAACuH,EAAAA,GAAsB,CACrBjD,GAAG,OACHrC,KAAK,OACLhC,UAAU,gBACVrB,MAAOkE,EAAcA,EAAYb,KAAO,GACxCuF,UAAQ,EACRC,kBAAmB,CACjBvJ,SAAUA,EAAG7B,YACX0I,EAAa1I,IAEjBwE,IAAKD,EACLF,OAAOJ,EAAAA,EAAAA,GAAE,aAEToH,aAAapH,EAAAA,EAAAA,GAAE,uCACfqH,YAAU,OAGdR,EAAAA,EAAAA,IAACvF,EAAoB,CAAA1B,SAAA,EACnBiH,EAAAA,EAAAA,IAAA,OAAKlH,UAAU,gBAAeC,SAAA,EAC3BI,EAAAA,EAAAA,GAAE,eAAgB,KACnBN,EAAAA,EAAAA,IAAC4H,EAAAA,EAAW,CACVC,SAASvH,EAAAA,EAAAA,GACP,kSAINN,EAAAA,EAAAA,IAAA,OAAKC,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,IAAC8H,EAAAA,EAAM,CACL7F,KAAK,cACL8F,WAAWzH,EAAAA,EAAAA,GAAE,eACb0H,aAAa1H,EAAAA,EAAAA,GAAE,eACfpC,SArJUa,IACtB8E,EAAgB,cAAe9E,EAAK,EAqJxBH,MAAkB,MAAXkE,OAAW,EAAXA,EAAaZ,YACpB+F,QAASxH,UAKf0G,EAAAA,EAAAA,IAACvF,EAAoB,CAAA1B,SAAA,EACnBiH,EAAAA,EAAAA,IAAA,OAAKlH,UAAU,gBAAeC,SAAA,EAC3BI,EAAAA,EAAAA,GAAE,YAAa,KAAAN,EAAAA,EAAAA,IAAA,QAAMC,UAAU,WAAUC,SAAC,OAC3CF,EAAAA,EAAAA,IAAC4H,EAAAA,EAAW,CACVC,SAASvH,EAAAA,EAAAA,GACP,gEAINN,EAAAA,EAAAA,IAAA,OAAKC,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,IAACkI,EAAAA,EAAW,CACVH,WAAWzH,EAAAA,EAAAA,GAAE,UACb6H,KAAK,WACLjK,SArKUkE,IACtByB,EAAgB,SAAUzB,GAAU,GAAG,EAqK3BxD,OAAmB,MAAXkE,OAAW,EAAXA,EAAaV,SAA4B,GACjD6F,QAAShD,UAKfkC,EAAAA,EAAAA,IAACvF,EAAoB,CAAA1B,SAAA,EACnBiH,EAAAA,EAAAA,IAAA,OAAKlH,UAAU,gBAAeC,SAAA,CAC3B4C,EAAYZ,cAAgBvB,EAAWyH,MACpC9H,EAAAA,EAAAA,GAAE,mBACFA,EAAAA,EAAAA,GAAE,SAAU,KAChBN,EAAAA,EAAAA,IAAC4H,EAAAA,EAAW,CACVC,SAASvH,EAAAA,EAAAA,GACP,oMAINN,EAAAA,EAAAA,IAAA,OAAKC,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,IAACkI,EAAAA,EAAW,CACVH,WAAWzH,EAAAA,EAAAA,GAAE,SACb6H,KAAK,WACLjK,SAvLSmE,IACrBwB,EAAgB,QAASxB,GAAS,GAAG,EAuLzBzD,OAAmB,MAAXkE,OAAW,EAAXA,EAAaT,QAA2B,GAChD4F,QAAS3B,UAIftG,EAAAA,EAAAA,IAAC4B,EAAoB,CAAA1B,UACnBF,EAAAA,EAAAA,IAACuH,EAAAA,GAAsB,CACrBjD,GAAG,YACHrC,KAAK,YACLrD,MAAOkE,EAAcA,EAAYP,UAAY,GAC7CkF,kBAAmB,CACjBvJ,SAAUA,EAAG7B,YACX0I,EAAa1I,IAEjBwE,IAAKD,EACLF,OAAOJ,EAAAA,EAAAA,GAAE,aACTqH,YAAU,EACVD,aAAapH,EAAAA,EAAAA,GACX,ygBAKNN,EAAAA,EAAAA,IAAC4B,EAAoB,CAAA1B,UACnBF,EAAAA,EAAAA,IAAA,OAAKC,UAAU,gBAAeC,UAC5BF,EAAAA,EAAAA,IAACuH,EAAAA,GAAsB,CACrBjD,GAAG,SACHrC,KAAK,SACLrD,MAAOkE,EAAcA,EAAYR,OAAS,GAC1CkF,UAAQ,EACRC,kBAAmB,CACjBvJ,SAAUA,EAAG7B,YACX0I,EAAa1I,IAEjBwE,IAAKD,EACLF,OAAOJ,EAAAA,EAAAA,GAAE,UACTqH,YAAU,EACVD,aAAapH,EAAAA,EAAAA,GACX,yUAMR6G,EAAAA,EAAAA,IAACvF,EAAoB,CAAA1B,SAAA,EACnBF,EAAAA,EAAAA,IAAA,OAAKC,UAAU,gBAAeC,UAAEI,EAAAA,EAAAA,GAAE,kBAClCN,EAAAA,EAAAA,IAAA,OAAKC,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,IAAC8B,EAAc,CACbuG,KAAM,EACNpG,KAAK,cACLrD,MAAOkE,EAAcA,EAAYN,YAAc,GAC/CtE,SAAUoK,GAASvD,EAAauD,EAAMjM,qBAStD,E,wCClcA,MAAMkM,EAAUxH,EAAAA,GAAOS,GAAG;WACf,EAAGN,WAAYA,EAAME,OAAOC,UAAUC;EAqVjD,GAAekH,EAAAA,EAAAA,KAxUf,SAA8B9K,GAC5B,MAAM,eAAEgF,EAAc,gBAAEC,EAAe,KAAE9C,GAASnC,GAC3C+K,EAAeC,IAAoB1F,EAAAA,EAAAA,WAAkB,IACrDF,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,OAG7CI,OAAO,QACLC,EACAsF,cAAeC,EACfC,mBAAoBC,EAAK,kBACzBC,GACD,QACDC,EAAO,UACPC,EAAS,YACTC,EAAW,iBACXC,IACEC,EAAAA,EAAAA,IACF,oBACA9I,EAAAA,EAAAA,GAAE,sBACFoC,GACA,OACAzG,OACAA,GACA,GAGF,SAASoN,EAAe5G,GACtBM,EAAeN,GACfiG,GAAiB,EACnB,CAmCA,SAASY,IACPvG,EAAe,MACf2F,GAAiB,GACjBQ,GACF,CAEA,MAAMK,EAAWP,EAAQ,aACnBQ,EAAUR,EAAQ,aAClBS,EAAYT,EAAQ,cAEpBU,GAAUxE,EAAAA,EAAAA,UACd,IAAM,CACJ,CACEyE,SAAU,OACVC,QAAQtJ,EAAAA,EAAAA,GAAE,SAEZ,CACEqJ,SAAU,cACVC,QAAQtJ,EAAAA,EAAAA,GAAE,eACVuJ,KAAM,MAER,CACEF,SAAU,YACVC,QAAQtJ,EAAAA,EAAAA,GAAE,aACVuJ,KAAM,MAER,CACEF,SAAU,SACVC,QAAQtJ,EAAAA,EAAAA,GAAE,WAEZ,CACEwJ,KAAMA,EACJC,KACEC,UACEC,2BAA4BC,EAC5BC,WAAYC,QAGPpK,EAAAA,EAAAA,IAACJ,EAAAA,EAAY,CAACE,KAAMoK,EAAWrK,KAAMuK,IAChDR,QAAQtJ,EAAAA,EAAAA,GAAE,iBACVqJ,SAAU,6BACVE,KAAM,MAER,CACEC,KAAMA,EAAGC,KAAOC,gBAUZ7C,EAAAA,EAAAA,IAACoB,EAAO,CAACtI,UAAU,UAASC,SAAA,CACzBqJ,IACCvJ,EAAAA,EAAAA,IAACqK,EAAAA,EAAmB,CAClBhK,OAAOC,EAAAA,EAAAA,GAAE,kBACTkC,aACE2E,EAAAA,EAAAA,IAAAmD,EAAAA,GAAA,CAAApK,SAAA,EACGI,EAAAA,EAAAA,GAAE,mCAAoC,KACvCN,EAAAA,EAAAA,IAAA,KAAAE,SAAI8J,EAAS/H,UAGjBsI,UAnBaC,IA9E7B,UACE,GAAElG,EAAE,KAAErC,GACNiH,EACAvG,EACAD,GAEA,OAAOgD,EAAAA,EAAe+E,OAAO,CAC3B7E,SAAU,4BAA4BtB,MACrCuB,MACD,KACEqD,IACAvG,GAAgBrC,EAAAA,EAAAA,GAAE,aAAc2B,GAAM,IAExCyI,EAAAA,EAAAA,KAAmBC,GACjBjI,GAAepC,EAAAA,EAAAA,GAAE,qCAAsC2B,EAAM0I,MAGnE,CA8DUC,CACEZ,EACAd,EACAvG,EACAD,GAc4BxC,SAEvB2K,IACC7K,EAAAA,EAAAA,IAACO,EAAAA,EAAO,CACN+D,GAAG,wBACHjE,OAAOC,EAAAA,EAAAA,GAAE,UACTE,UAAU,SAAQN,UAElBF,EAAAA,EAAAA,IAAA,QACE+G,KAAK,SACL+D,SAAU,EACV7K,UAAU,gBACVf,QAAS2L,EAAc3K,UAEvBF,EAAAA,EAAAA,IAACoH,EAAAA,EAAM2D,MAAK,UAMrBvB,IACCxJ,EAAAA,EAAAA,IAACO,EAAAA,EAAO,CACN+D,GAAG,sBACHjE,OAAOC,EAAAA,EAAAA,GAAE,QACTE,UAAU,SAAQN,UAElBF,EAAAA,EAAAA,IAAA,QACE+G,KAAK,SACL+D,SAAU,EACV7K,UAAU,gBACVf,QA1CS8L,IAAM3B,EAAeW,GA0CV9J,UAEpBF,EAAAA,EAAAA,IAACoH,EAAAA,EAAMC,QAAO,WAO1BuC,QAAQtJ,EAAAA,EAAAA,GAAE,WACVgE,GAAI,UACJ2G,QAASzB,IAAYD,IAAaE,EAClCyB,eAAe,GAEjB,CACEvB,SAAUwB,EAAAA,EAAmBC,UAC7BH,QAAQ,KAGZ,CACEpL,EAAKwL,OACL7B,EACAD,EACAE,EACAT,EACAE,EACAxG,EACAC,IAIE2I,EAAa,CACjBjL,OAAOC,EAAAA,EAAAA,GAAE,gBACTiL,MAAO,qBACPC,aAAcA,IAAMnC,EAAe,MACnCoC,WAAYjC,GACVrC,EAAAA,EAAAA,IAAAmD,EAAAA,GAAA,CAAApK,SAAA,EACEF,EAAAA,EAAAA,IAAA,KAAGC,UAAU,eAA2C,IAAC,OAAQ,OAEjE,MAGAyL,GAAmBxG,EAAAA,EAAAA,UACvB,IAAM,CACJ,CACE0E,QAAQtJ,EAAAA,EAAAA,GAAE,QACV5D,IAAK,SACL4H,GAAI,OACJa,MAAO,SACPwG,SAAUC,EAAAA,EAAeC,YAE3B,CACEjC,QAAQtJ,EAAAA,EAAAA,GAAE,eACV5D,IAAK,cACL4H,GAAI,cACJa,MAAO,SACPwG,SAAUC,EAAAA,EAAeE,OACzBC,iBAAiBzL,EAAAA,EAAAA,GAAE,OACnB0L,QAAS,CACP,CAAEtL,OAAOJ,EAAAA,EAAAA,GAAE,WAAY1B,MAAO,WAC9B,CAAE8B,OAAOJ,EAAAA,EAAAA,GAAE,QAAS1B,MAAO,UAG/B,CACEgL,QAAQtJ,EAAAA,EAAAA,GAAE,aACV5D,IAAK,SACL4H,GAAI,YACJa,MAAO,SACPwG,SAAUC,EAAAA,EAAeC,YAE3B,CACEjC,QAAQtJ,EAAAA,EAAAA,GAAE,eACV5D,IAAK,aACL4H,GAAI,aACJa,MAAO,SACPwG,SAAUC,EAAAA,EAAeK,gBACzBF,iBAAiBzL,EAAAA,EAAAA,GAAE,OACnB4L,cAAcC,EAAAA,EAAAA,IACZ,mBACA,cACAzB,EAAAA,EAAAA,KAAmBC,IACjBrK,EAAAA,EAAAA,GACE,iEACAqK,KAGJ9K,GAEFuM,UAAU,KAGd,CAACvM,IAGGwM,EAAc,CAAC,CAAE/H,GAAI,6BAA8BgI,MAAM,IAGzDC,EAA0C,GAoBhD,OAlBIhD,IACFgD,EAAelI,KAAK,CAClBpC,MACEkF,EAAAA,EAAAA,IAAAmD,EAAAA,GAAA,CAAApK,SAAA,EACEF,EAAAA,EAAAA,IAAA,KAAGC,UAAU,eAAqC,KAACK,EAAAA,EAAAA,GAAE,WAGzDkM,YAAa,UACbtN,QAASA,IAAMmK,EAAe,QAEhCkD,EAAelI,KAAK,CAClBpC,MAAM3B,EAAAA,EAAAA,GAAE,eACRkM,YAAa,YAEbtN,QAASiK,MAKXhC,EAAAA,EAAAA,IAAAmD,EAAAA,GAAA,CAAApK,SAAA,EACEF,EAAAA,EAAAA,IAACyM,EAAAA,EAAO,CAACxK,MAAM3B,EAAAA,EAAAA,GAAE,sBAAuBoM,QAASH,KACjDvM,EAAAA,EAAAA,IAACqK,EAAAA,EAAmB,CAClBhK,OAAOC,EAAAA,EAAAA,GAAE,kBACTkC,aAAalC,EAAAA,EAAAA,GAAE,uDACfiK,UAxON,SAA+BoC,GAC7B,MAAMC,EAAMD,EAAcvN,KAAI,EAAGkF,QAASA,IAC1C,OAAOoB,EAAAA,EAAe+E,OAAO,CAC3B7E,SAAU,+BAA+BL,IAAAA,OAAaqH,OACrD/G,MACD,KACEqD,IACAvG,GAAgBrC,EAAAA,EAAAA,GAAE,WAAW,IAE/BoK,EAAAA,EAAAA,KAAmBC,GACjBjI,GAAepC,EAAAA,EAAAA,GAAE,wCAAyCqK,MAGhE,EA2NuCzK,SAEhC2K,IACC,MAAMgC,EAA4C,GASlD,OARItD,GACFsD,EAAYxI,KAAK,CACf3H,IAAK,SACLuF,MAAM3B,EAAAA,EAAAA,GAAE,UACRvB,KAAM,SACN+N,SAAUjC,KAIZ1D,EAAAA,EAAAA,IAAAmD,EAAAA,GAAA,CAAApK,SAAA,EACEF,EAAAA,EAAAA,IAAC+M,EAAqB,CACpBtK,KAAMK,EACNJ,eAAgBA,EAChBE,OAAQ0G,EACR3G,gBAAiBA,EACjBE,KAAM4F,KAERzI,EAAAA,EAAAA,IAACgN,EAAAA,EAAQ,CACP/M,UAAU,gBACV4M,YAAaA,EACb9D,kBAAmBA,EACnBkE,kBAAmB9D,EACnBO,QAASA,EACTrD,MAAOuC,EACP7C,KAAM+C,EACNwC,WAAYA,EACZrC,UAAWA,EACXyC,QAASA,EACTW,YAAaA,EACbhJ,QAASA,EACTX,eAAgBA,EAChBC,gBAAiBA,EACjBuG,YAAaA,OACb7D,SAjEI,OAmEL,MAMf,G,iBC1XArJ,EAAQ2D,WAAa,CACjBuN,KAAM,OACNC,SAAU,WACVC,gBAAiB,kBACjBC,mBAAoB,qBACpBC,eAAgB,iBAChBC,eAAgB,kBAEpBvR,EAAQwR,UAAY,CAChBC,gBAAiB,EACjBC,iBAAkB,EAClBN,iBAAkB,EAClBC,oBAAqB,EACrBC,gBAAiB,EACjBC,gBAAiB,E,mBCdrB,IAAII,EAAkC,EAAQ,QAC9C3R,EAAQ4R,oBAAsB,SAAUC,GACpC,MAAO,CACH9O,KAAM4O,EAAgChO,WAAWwN,SACjDzQ,IAAKiR,EAAgCH,UAAUC,eAC/C7O,MAAOiP,EACPC,UAAU,EAElB,EACA9R,EAAQ+R,qBAAuB,SAAUF,GACrC,MAAO,CACH9O,KAAM4O,EAAgChO,WAAWwN,SACjDzQ,IAAKiR,EAAgCH,UAAUE,gBAC/C9O,MAAOiP,EACPC,UAAU,EAElB,EACA9R,EAAQgS,oBAAsB,SAAU/F,GACpC,IAAItK,EAAcsK,EAAQtK,YAC1B,MAAO,CACHoB,KAAM4O,EAAgChO,WAAWyN,gBACjD1Q,IAAKiR,EAAgCH,UAAUJ,gBAC/CxO,MAAO,EACPkP,SAA0B,IAAhBnQ,EAElB,EACA3B,EAAQiS,uBAAyB,SAAUhG,GACvC,IAAItK,EAAcsK,EAAQtK,YAC1B,MAAO,CACHoB,KAAM4O,EAAgChO,WAAW0N,mBACjD3Q,IAAKiR,EAAgCH,UAAUH,mBAC/CzO,MAAOsP,KAAKC,IAAI,EAAGxQ,EAAc,GACjCmQ,SAA0B,IAAhBnQ,EAElB,EACA3B,EAAQoS,mBAAqB,SAAUnG,GACnC,IAAItK,EAAcsK,EAAQtK,YAAaC,EAAaqK,EAAQrK,WAC5D,MAAO,CACHmB,KAAM4O,EAAgChO,WAAW2N,eACjD5Q,IAAKiR,EAAgCH,UAAUF,eAC/C1O,MAAOsP,KAAKG,IAAIzQ,EAAYD,EAAc,GAC1CmQ,SAAUnQ,IAAgBC,EAElC,EACA5B,EAAQsS,mBAAqB,SAAUrG,GACnC,IAAItK,EAAcsK,EAAQtK,YAAaC,EAAaqK,EAAQrK,WAC5D,MAAO,CACHmB,KAAM4O,EAAgChO,WAAW4N,eACjD7Q,IAAKiR,EAAgCH,UAAUD,eAC/C3O,MAAOhB,EACPkQ,SAAUnQ,IAAgBC,EAElC,EACA5B,EAAQuS,0BAA4B,SAAUtG,GAC1C,IAAItK,EAAcsK,EAAQtK,YAC1B,OAAO,SAAUkQ,GACb,MAAO,CACH9O,KAAM4O,EAAgChO,WAAWuN,KACjDxQ,IAAKmR,EACLjP,MAAOiP,EACPC,SAAUD,IAAelQ,EAEjC,CACJ,C,eCxDA3B,EAAQwS,YAPR,SAAqBC,EAAOC,GAExB,IADA,IAAIC,EAAQ,GACHrS,EAAImS,EAAOnS,GAAKoS,EAAKpS,IAC1BqS,EAAMtK,KAAK/H,GAEf,OAAOqS,CACX,C,mBCNA,IAAIC,EAA8B,EAAQ,MACtCC,EAAuC,EAAQ,QAiGnD7S,EAAQyC,mBAhGR,SAA4BwJ,GACxB,GAAe,MAAXA,EACA,MAAM,IAAI6G,MAAM,2DAEpB,IAAIlR,EAAamR,OAAO9G,EAAQrK,YAChC,GAAIoR,MAAMpR,GACN,MAAM,IAAIkR,MAAM,uDAEpB,GAAIlR,EAAa,EACb,MAAM,IAAIkR,MAAM,mEAEpB,IAAInR,EAAcoR,OAAO9G,EAAQtK,aACjC,GAAIqR,MAAMrR,GACN,MAAM,IAAImR,MAAM,wDAEpB,GAAInR,EAAc,EACd,MAAM,IAAImR,MAAM,oEAEpB,GAAInR,EAAcC,EACd,MAAM,IAAIkR,MAAM,0EAEpB,IAAIjR,EAAoD,MAA9BoK,EAAQpK,mBAA6B,EAAIkR,OAAO9G,EAAQpK,oBAClF,GAAImR,MAAMnR,GACN,MAAM,IAAIiR,MAAM,+DAEpB,GAAIjR,EAAqB,EACrB,MAAM,IAAIiR,MAAM,2EAEpB,IAAIhR,EAAkD,MAA7BmK,EAAQnK,kBAA4B,EAAIiR,OAAO9G,EAAQnK,mBAChF,GAAIkR,MAAMlR,GACN,MAAM,IAAIgR,MAAM,8DAEpB,GAAIhR,EAAoB,EACpB,MAAM,IAAIgR,MAAM,0EAEpB,IAAI9Q,EAA+BiR,QAAQhH,EAAQjK,8BAC/CC,EAA4BgR,QAAQhH,EAAQhK,2BAC5CF,EAAekR,QAAQhH,EAAQlK,cAC/BmR,EAAgBnR,EAAe,EAAI,EACnCS,EAAkB,GAClB2Q,EAAaN,EAAqCN,0BAA0BtG,GAQhF,GAPKhK,GACDO,EAAgB6F,KAAKwK,EAAqCb,oBAAoB/F,IAE7EjK,GACDQ,EAAgB6F,KAAKwK,EAAqCZ,uBAAuBhG,IAGjF,EAAI,EAAIiH,EAAe,EAAIpR,EAAoB,EAAID,GAAsBD,EAAY,CACrF,IAAIwR,EAAWR,EAA4BJ,YAAY,EAAG5Q,GAAYwB,IAAI+P,GAC1E3Q,EAAgB6F,KAAKgL,MAAM7Q,EAAiB4Q,EAChD,KACK,CAED,IACIE,EAAgBzR,EAChB0R,EAAaX,EAA4BJ,YAFvB,EAEoDc,GAAelQ,IAAI+P,GAEzFK,EAAiB5R,EAAa,EAAIC,EAClC4R,EAAe7R,EACf8R,EAAYd,EAA4BJ,YAAYgB,EAAgBC,GAAcrQ,IAAI+P,GAEtFQ,EAAiBzB,KAAKG,IAAIH,KAAKC,IAAIxQ,EAAcG,EAAmBwR,EAAgBJ,EAAe,GAAIM,EAAiBN,EAAe,EAAIpR,EAAoB,GAC/J8R,EAAeD,EAAiB,EAAI7R,EACpC+R,EAAYjB,EAA4BJ,YAAYmB,EAAgBC,GAAcxQ,IAAI+P,GAG1F,GADA3Q,EAAgB6F,KAAKgL,MAAM7Q,EAAiB+Q,IACvCxR,EAAc,CAEf,IAAI+R,EAA0BH,EAAiB,EAG3CI,GAFkCD,IAA4BR,EAAgB,EACjBH,EAAaN,EAAqCjB,qBACrEkC,GAC9CtR,EAAgB6F,KAAK0L,EACzB,CAGA,GADAvR,EAAgB6F,KAAKgL,MAAM7Q,EAAiBqR,IACvC9R,EAAc,CAEf,IAAIiS,EAA2BJ,EAAe,EAG1CK,GAFmCD,IAA6BR,EAAiB,EAClBL,EAAaN,EAAqCd,sBACrEiC,GAChDxR,EAAgB6F,KAAK4L,EACzB,CAEAzR,EAAgB6F,KAAKgL,MAAM7Q,EAAiBkR,EAChD,CAOA,OANK1R,GACDQ,EAAgB6F,KAAKwK,EAAqCT,mBAAmBnG,IAE5EhK,GACDO,EAAgB6F,KAAKwK,EAAqCP,mBAAmBrG,IAE1EzJ,CACX,EAEA,IAAImP,EAAkC,EAAQ,QAC9C3R,EAAQ2D,WAAagO,EAAgChO,WACrD3D,EAAQwR,UAAYG,EAAgCH,S","sources":["webpack://superset/./node_modules/react-ultimate-pagination/lib/react-ultimate-pagination.js","webpack://superset/./src/components/AuditInfo/index.tsx","webpack://superset/./src/features/rls/constants.ts","webpack://superset/./src/features/rls/types.ts","webpack://superset/./src/features/rls/RowLevelSecurityModal.tsx","webpack://superset/./src/pages/RowLevelSecurityList/index.tsx","webpack://superset/./node_modules/ultimate-pagination/lib/ultimate-pagination-constants.js","webpack://superset/./node_modules/ultimate-pagination/lib/ultimate-pagination-item-factories.js","webpack://superset/./node_modules/ultimate-pagination/lib/ultimate-pagination-utils.js","webpack://superset/./node_modules/ultimate-pagination/lib/ultimate-pagination.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ITEM_TYPES = exports.createUltimatePagination = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _ultimatePagination = require('ultimate-pagination');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar renderItemComponentFunctionFactory = function renderItemComponentFunctionFactory(itemTypeToComponent, currentPage, onChange) {\n  var onItemClickFunctionFactory = function onItemClickFunctionFactory(_ref) {\n    var value = _ref.value,\n        isDisabled = _ref.isDisabled;\n\n    return function () {\n      if (!isDisabled && onChange && currentPage !== value) {\n        onChange(value);\n      }\n    };\n  };\n\n  return function (props) {\n    var ItemComponent = itemTypeToComponent[props.type];\n    var onItemClick = onItemClickFunctionFactory(props);\n    return _react2.default.createElement(ItemComponent, _extends({ onClick: onItemClick }, props));\n  };\n};\n\nvar createUltimatePagination = function createUltimatePagination(_ref2) {\n  var itemTypeToComponent = _ref2.itemTypeToComponent,\n      _ref2$WrapperComponen = _ref2.WrapperComponent,\n      WrapperComponent = _ref2$WrapperComponen === undefined ? 'div' : _ref2$WrapperComponen;\n\n  var UltimatePaginationComponent = function UltimatePaginationComponent(props) {\n    var currentPage = props.currentPage,\n        totalPages = props.totalPages,\n        boundaryPagesRange = props.boundaryPagesRange,\n        siblingPagesRange = props.siblingPagesRange,\n        hideEllipsis = props.hideEllipsis,\n        hidePreviousAndNextPageLinks = props.hidePreviousAndNextPageLinks,\n        hideFirstAndLastPageLinks = props.hideFirstAndLastPageLinks,\n        onChange = props.onChange,\n        disabled = props.disabled,\n        restProps = _objectWithoutProperties(props, ['currentPage', 'totalPages', 'boundaryPagesRange', 'siblingPagesRange', 'hideEllipsis', 'hidePreviousAndNextPageLinks', 'hideFirstAndLastPageLinks', 'onChange', 'disabled']);\n\n    var paginationModel = (0, _ultimatePagination.getPaginationModel)({\n      currentPage: currentPage,\n      totalPages: totalPages,\n      boundaryPagesRange: boundaryPagesRange,\n      siblingPagesRange: siblingPagesRange,\n      hideEllipsis: hideEllipsis,\n      hidePreviousAndNextPageLinks: hidePreviousAndNextPageLinks,\n      hideFirstAndLastPageLinks: hideFirstAndLastPageLinks\n    });\n    var renderItemComponent = renderItemComponentFunctionFactory(itemTypeToComponent, currentPage, onChange);\n    return _react2.default.createElement(\n      WrapperComponent,\n      restProps,\n      paginationModel.map(function (itemModel) {\n        return renderItemComponent(_extends({}, itemModel, {\n          isDisabled: !!disabled\n        }));\n      })\n    );\n  };\n\n  UltimatePaginationComponent.propTypes = {\n    currentPage: _propTypes2.default.number.isRequired,\n    totalPages: _propTypes2.default.number.isRequired,\n    boundaryPagesRange: _propTypes2.default.number,\n    siblingPagesRange: _propTypes2.default.number,\n    hideEllipsis: _propTypes2.default.bool,\n    hidePreviousAndNextPageLinks: _propTypes2.default.bool,\n    hideFirstAndLastPageLinks: _propTypes2.default.bool,\n    onChange: _propTypes2.default.func,\n    disabled: _propTypes2.default.bool\n  };\n\n  return UltimatePaginationComponent;\n};\n\nexports.createUltimatePagination = createUltimatePagination;\nexports.ITEM_TYPES = _ultimatePagination.ITEM_TYPES;","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Owner from 'src/types/Owner';\nimport { Tooltip } from 'src/components/Tooltip';\nimport getOwnerName from 'src/utils/getOwnerName';\nimport { t } from '@superset-ui/core';\n\nexport type ModifiedInfoProps = {\n  user?: Owner;\n  date: string;\n};\n\nexport const ModifiedInfo = ({ user, date }: ModifiedInfoProps) => {\n  const dateSpan = (\n    <span className=\"no-wrap\" data-test=\"audit-info-date\">\n      {date}\n    </span>\n  );\n\n  if (user) {\n    const userName = getOwnerName(user);\n    const title = t('Modified by: %s', userName);\n    return (\n      <Tooltip title={title} placement=\"bottom\">\n        {dateSpan}\n      </Tooltip>\n    );\n  }\n  return dateSpan;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { t } from '@superset-ui/core';\n\nexport const FILTER_OPTIONS = [\n  {\n    label: t('Regular'),\n    value: 'Regular',\n  },\n  {\n    label: t('Base'),\n    value: 'Base',\n  },\n];\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nexport enum FilterType {\n  Regular = 'Regular',\n  Base = 'Base',\n}\n\nexport type RLSObject = {\n  id?: number;\n  name: string;\n  filter_type: FilterType;\n  tables?: TableObject[];\n  roles?: RoleObject[];\n  group_key?: string;\n  clause?: string;\n  description?: string;\n};\n\nexport type TableObject = {\n  key: any;\n  id?: number;\n  label?: string;\n  value?: number | string;\n  schema?: string;\n  table_name?: string;\n};\n\nexport type RoleObject = {\n  key: any;\n  id?: number;\n  label?: string;\n  value?: number | string;\n  name?: string;\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport {\n  css,\n  styled,\n  SupersetClient,\n  SupersetTheme,\n  t,\n} from '@superset-ui/core';\nimport Modal from 'src/components/Modal';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport Icons from 'src/components/Icons';\nimport Select from 'src/components/Select/Select';\nimport { TextArea } from 'src/components/Input';\nimport AsyncSelect from 'src/components/Select/AsyncSelect';\nimport rison from 'rison';\nimport { LabeledErrorBoundInput } from 'src/components/Form';\nimport InfoTooltip from 'src/components/InfoTooltip';\nimport { useSingleViewResource } from 'src/views/CRUD/hooks';\nimport { FILTER_OPTIONS } from './constants';\nimport { FilterType, RLSObject, RoleObject, TableObject } from './types';\n\nconst noMargins = css`\n  margin: 0;\n\n  .ant-input {\n    margin: 0;\n  }\n`;\n\nconst StyledModal = styled(Modal)`\n  max-width: 1200px;\n  min-width: min-content;\n  width: 100%;\n  .ant-modal-footer {\n    white-space: nowrap;\n  }\n`;\n\nconst StyledIcon = (theme: SupersetTheme) => css`\n  margin: auto ${theme.gridUnit * 2}px auto 0;\n  color: ${theme.colors.grayscale.base};\n`;\n\nconst StyledSectionContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: ${({ theme }) =>\n    `${theme.gridUnit * 3}px ${theme.gridUnit * 4}px ${theme.gridUnit * 2}px`};\n\n  label,\n  .control-label {\n    display: inline-block;\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    vertical-align: middle;\n  }\n\n  .info-solid-small {\n    vertical-align: middle;\n    padding-bottom: ${({ theme }) => theme.gridUnit / 2}px;\n  }\n`;\n\nconst StyledInputContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: ${({ theme }) => theme.gridUnit}px;\n  margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\n\n  .input-container {\n    display: flex;\n    align-items: center;\n\n    > div {\n      width: 100%;\n    }\n  }\n\n  input,\n  textarea {\n    flex: 1 1 auto;\n  }\n\n  .required {\n    margin-left: ${({ theme }) => theme.gridUnit / 2}px;\n    color: ${({ theme }) => theme.colors.error.base};\n  }\n`;\n\nconst StyledTextArea = styled(TextArea)`\n  resize: none;\n  margin-top: ${({ theme }) => theme.gridUnit}px;\n`;\n\nexport interface RowLevelSecurityModalProps {\n  rule: RLSObject | null;\n  addSuccessToast: (msg: string) => void;\n  addDangerToast: (msg: string) => void;\n  onAdd?: (alert?: any) => void;\n  onHide: () => void;\n  show: boolean;\n}\n\nconst DEAFULT_RULE = {\n  name: '',\n  filter_type: FilterType.Regular,\n  tables: [],\n  roles: [],\n  clause: '',\n  group_key: '',\n  description: '',\n};\n\nfunction RowLevelSecurityModal(props: RowLevelSecurityModalProps) {\n  const { rule, addDangerToast, addSuccessToast, onHide, show } = props;\n\n  const [currentRule, setCurrentRule] = useState<RLSObject>({\n    ...DEAFULT_RULE,\n  });\n  const [disableSave, setDisableSave] = useState<boolean>(true);\n\n  const isEditMode = rule !== null;\n\n  // * hooks *\n  const {\n    state: { loading, resource, error: fetchError },\n    fetchResource,\n    createResource,\n    updateResource,\n    clearError,\n  } = useSingleViewResource<RLSObject>(\n    `rowlevelsecurity`,\n    t('rowlevelsecurity'),\n    addDangerToast,\n  );\n\n  const updateRuleState = (name: string, value: any) => {\n    setCurrentRule(currentRuleData => ({\n      ...currentRuleData,\n      [name]: value,\n    }));\n  };\n\n  // * state validators *\n  const validate = () => {\n    if (\n      currentRule?.name &&\n      currentRule?.clause &&\n      currentRule.tables?.length\n    ) {\n      setDisableSave(false);\n    } else {\n      setDisableSave(true);\n    }\n  };\n\n  // find selected tables and roles\n  const getSelectedData = useCallback(() => {\n    if (!resource) {\n      return null;\n    }\n    const tables: TableObject[] = [];\n    const roles: RoleObject[] = [];\n\n    resource.tables?.forEach(selectedTable => {\n      tables.push({\n        key: selectedTable.id,\n        label: selectedTable.schema\n          ? `${selectedTable.schema}.${selectedTable.table_name}`\n          : selectedTable.table_name,\n        value: selectedTable.id,\n      });\n    });\n\n    resource.roles?.forEach(selectedRole => {\n      roles.push({\n        key: selectedRole.id,\n        label: selectedRole.name,\n        value: selectedRole.id,\n      });\n    });\n\n    return { tables, roles };\n  }, [resource?.tables, resource?.roles]);\n\n  // initialize\n  useEffect(() => {\n    if (!isEditMode) {\n      setCurrentRule({ ...DEAFULT_RULE });\n    } else if (rule?.id !== null && !loading && !fetchError) {\n      fetchResource(rule.id as number);\n    }\n  }, [rule]);\n\n  useEffect(() => {\n    if (resource) {\n      setCurrentRule({ ...resource, id: rule?.id });\n      const selectedTableAndRoles = getSelectedData();\n      updateRuleState('tables', selectedTableAndRoles?.tables || []);\n      updateRuleState('roles', selectedTableAndRoles?.roles || []);\n    }\n  }, [resource]);\n\n  // validate\n  const currentRuleSafe = currentRule || {};\n  useEffect(() => {\n    validate();\n  }, [currentRuleSafe.name, currentRuleSafe.clause, currentRuleSafe?.tables]);\n\n  // * event handlers *\n  type SelectValue = {\n    value: string;\n    label: string;\n  };\n\n  const onTextChange = (target: HTMLInputElement | HTMLTextAreaElement) => {\n    updateRuleState(target.name, target.value);\n  };\n\n  const onFilterChange = (type: string) => {\n    updateRuleState('filter_type', type);\n  };\n\n  const onTablesChange = (tables: Array<SelectValue>) => {\n    updateRuleState('tables', tables || []);\n  };\n\n  const onRolesChange = (roles: Array<SelectValue>) => {\n    updateRuleState('roles', roles || []);\n  };\n\n  const hide = () => {\n    clearError();\n    setCurrentRule({ ...DEAFULT_RULE });\n    onHide();\n  };\n\n  const onSave = () => {\n    const tables: number[] = [];\n    const roles: number[] = [];\n\n    currentRule.tables?.forEach(table => tables.push(table.key));\n    currentRule.roles?.forEach(role => roles.push(role.key));\n\n    const data: any = { ...currentRule, tables, roles };\n\n    if (isEditMode && currentRule.id) {\n      const updateId = currentRule.id;\n      delete data.id;\n      updateResource(updateId, data).then(response => {\n        if (!response) {\n          return;\n        }\n        addSuccessToast(`Rule updated`);\n        hide();\n      });\n    } else if (currentRule) {\n      createResource(data).then(response => {\n        if (!response) return;\n        addSuccessToast(t('Rule added'));\n        hide();\n      });\n    }\n  };\n\n  // * data loaders *\n  const loadTableOptions = useMemo(\n    () =>\n      (input = '', page: number, pageSize: number) => {\n        const query = rison.encode({\n          filter: input,\n          page,\n          page_size: pageSize,\n        });\n        return SupersetClient.get({\n          endpoint: `/api/v1/rowlevelsecurity/related/tables?q=${query}`,\n        }).then(response => {\n          const list = response.json.result.map(\n            (item: { value: number; text: string }) => ({\n              label: item.text,\n              value: item.value,\n            }),\n          );\n          return { data: list, totalCount: response.json.count };\n        });\n      },\n    [],\n  );\n\n  const loadRoleOptions = useMemo(\n    () =>\n      (input = '', page: number, pageSize: number) => {\n        const query = rison.encode({\n          filter: input,\n          page,\n          page_size: pageSize,\n        });\n        return SupersetClient.get({\n          endpoint: `/api/v1/rowlevelsecurity/related/roles?q=${query}`,\n        }).then(response => {\n          const list = response.json.result.map(\n            (item: { value: number; text: string }) => ({\n              label: item.text,\n              value: item.value,\n            }),\n          );\n          return { data: list, totalCount: response.json.count };\n        });\n      },\n    [],\n  );\n\n  return (\n    <StyledModal\n      className=\"no-content-padding\"\n      responsive\n      show={show}\n      onHide={hide}\n      primaryButtonName={isEditMode ? t('Save') : t('Add')}\n      disablePrimaryButton={disableSave}\n      onHandledPrimaryAction={onSave}\n      width=\"30%\"\n      maxWidth=\"1450px\"\n      title={\n        <h4 data-test=\"rls-modal-title\">\n          {isEditMode ? (\n            <Icons.EditAlt css={StyledIcon} />\n          ) : (\n            <Icons.PlusLarge css={StyledIcon} />\n          )}\n          {isEditMode ? t('Edit Rule') : t('Add Rule')}\n        </h4>\n      }\n    >\n      <StyledSectionContainer>\n        <div className=\"main-section\">\n          <StyledInputContainer>\n            <LabeledErrorBoundInput\n              id=\"name\"\n              name=\"name\"\n              className=\"labeled-input\"\n              value={currentRule ? currentRule.name : ''}\n              required\n              validationMethods={{\n                onChange: ({ target }: { target: HTMLInputElement }) =>\n                  onTextChange(target),\n              }}\n              css={noMargins}\n              label={t('Rule Name')}\n              data-test=\"rule-name-test\"\n              tooltipText={t('The name of the rule must be unique')}\n              hasTooltip\n            />\n          </StyledInputContainer>\n          <StyledInputContainer>\n            <div className=\"control-label\">\n              {t('Filter Type')}{' '}\n              <InfoTooltip\n                tooltip={t(\n                  'Regular filters add where clauses to queries if a user belongs to a role referenced in the filter, base filters apply filters to all queries except the roles defined in the filter, and can be used to define what users can see if no RLS filters within a filter group apply to them.',\n                )}\n              />\n            </div>\n            <div className=\"input-container\">\n              <Select\n                name=\"filter_type\"\n                ariaLabel={t('Filter Type')}\n                placeholder={t('Filter Type')}\n                onChange={onFilterChange}\n                value={currentRule?.filter_type}\n                options={FILTER_OPTIONS}\n                data-test=\"rule-filter-type-test\"\n              />\n            </div>\n          </StyledInputContainer>\n          <StyledInputContainer>\n            <div className=\"control-label\">\n              {t('Datasets')} <span className=\"required\">*</span>\n              <InfoTooltip\n                tooltip={t(\n                  'These are the datasets this filter will be applied to.',\n                )}\n              />\n            </div>\n            <div className=\"input-container\">\n              <AsyncSelect\n                ariaLabel={t('Tables')}\n                mode=\"multiple\"\n                onChange={onTablesChange}\n                value={(currentRule?.tables as SelectValue[]) || []}\n                options={loadTableOptions}\n              />\n            </div>\n          </StyledInputContainer>\n\n          <StyledInputContainer>\n            <div className=\"control-label\">\n              {currentRule.filter_type === FilterType.Base\n                ? t('Excluded roles')\n                : t('Roles')}{' '}\n              <InfoTooltip\n                tooltip={t(\n                  'For regular filters, these are the roles this filter will be applied to. For base filters, these are the roles that the filter DOES NOT apply to, e.g. Admin if admin should see all data.',\n                )}\n              />\n            </div>\n            <div className=\"input-container\">\n              <AsyncSelect\n                ariaLabel={t('Roles')}\n                mode=\"multiple\"\n                onChange={onRolesChange}\n                value={(currentRule?.roles as SelectValue[]) || []}\n                options={loadRoleOptions}\n              />\n            </div>\n          </StyledInputContainer>\n          <StyledInputContainer>\n            <LabeledErrorBoundInput\n              id=\"group_key\"\n              name=\"group_key\"\n              value={currentRule ? currentRule.group_key : ''}\n              validationMethods={{\n                onChange: ({ target }: { target: HTMLInputElement }) =>\n                  onTextChange(target),\n              }}\n              css={noMargins}\n              label={t('Group Key')}\n              hasTooltip\n              tooltipText={t(\n                `Filters with the same group key will be ORed together within the group, while different filter groups will be ANDed together. Undefined group keys are treated as unique groups, i.e. are not grouped together. For example, if a table has three filters, of which two are for departments Finance and Marketing (group key = 'department'), and one refers to the region Europe (group key = 'region'), the filter clause would apply the filter (department = 'Finance' OR department = 'Marketing') AND (region = 'Europe').`,\n              )}\n              data-test=\"group-key-test\"\n            />\n          </StyledInputContainer>\n          <StyledInputContainer>\n            <div className=\"control-label\">\n              <LabeledErrorBoundInput\n                id=\"clause\"\n                name=\"clause\"\n                value={currentRule ? currentRule.clause : ''}\n                required\n                validationMethods={{\n                  onChange: ({ target }: { target: HTMLInputElement }) =>\n                    onTextChange(target),\n                }}\n                css={noMargins}\n                label={t('Clause')}\n                hasTooltip\n                tooltipText={t(\n                  'This is the condition that will be added to the WHERE clause. For example, to only return rows for a particular client, you might define a regular filter with the clause `client_id = 9`. To display no rows unless a user belongs to a RLS filter role, a base filter can be created with the clause `1 = 0` (always false).',\n                )}\n                data-test=\"clause-test\"\n              />\n            </div>\n          </StyledInputContainer>\n          <StyledInputContainer>\n            <div className=\"control-label\">{t('Description')}</div>\n            <div className=\"input-container\">\n              <StyledTextArea\n                rows={4}\n                name=\"description\"\n                value={currentRule ? currentRule.description : ''}\n                onChange={event => onTextChange(event.target)}\n                data-test=\"description-test\"\n              />\n            </div>\n          </StyledInputContainer>\n        </div>\n      </StyledSectionContainer>\n    </StyledModal>\n  );\n}\n\nexport default RowLevelSecurityModal;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t, styled, SupersetClient } from '@superset-ui/core';\nimport { useMemo, useState } from 'react';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport Icons from 'src/components/Icons';\nimport ListView, {\n  FetchDataConfig,\n  FilterOperator,\n  ListViewProps,\n  Filters,\n} from 'src/components/ListView';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport { Tooltip } from 'src/components/Tooltip';\nimport SubMenu, { SubMenuProps } from 'src/features/home/SubMenu';\nimport rison from 'rison';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport RowLevelSecurityModal from 'src/features/rls/RowLevelSecurityModal';\nimport { RLSObject } from 'src/features/rls/types';\nimport { createErrorHandler, createFetchRelated } from 'src/views/CRUD/utils';\nimport { ModifiedInfo } from 'src/components/AuditInfo';\nimport { QueryObjectColumns } from 'src/views/CRUD/types';\n\nconst Actions = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.base};\n`;\n\ninterface RLSProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  user: {\n    userId: string | number;\n    firstName: string;\n    lastName: string;\n  };\n}\n\nfunction RowLevelSecurityList(props: RLSProps) {\n  const { addDangerToast, addSuccessToast, user } = props;\n  const [ruleModalOpen, setRuleModalOpen] = useState<boolean>(false);\n  const [currentRule, setCurrentRule] = useState(null);\n\n  const {\n    state: {\n      loading,\n      resourceCount: rulesCount,\n      resourceCollection: rules,\n      bulkSelectEnabled,\n    },\n    hasPerm,\n    fetchData,\n    refreshData,\n    toggleBulkSelect,\n  } = useListViewResource<RLSObject>(\n    'rowlevelsecurity',\n    t('Row Level Security'),\n    addDangerToast,\n    true,\n    undefined,\n    undefined,\n    true,\n  );\n\n  function handleRuleEdit(rule: null) {\n    setCurrentRule(rule);\n    setRuleModalOpen(true);\n  }\n\n  function handleRuleDelete(\n    { id, name }: RLSObject,\n    refreshData: (arg0?: FetchDataConfig | null) => void,\n    addSuccessToast: (arg0: string) => void,\n    addDangerToast: (arg0: string) => void,\n  ) {\n    return SupersetClient.delete({\n      endpoint: `/api/v1/rowlevelsecurity/${id}`,\n    }).then(\n      () => {\n        refreshData();\n        addSuccessToast(t('Deleted %s', name));\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(t('There was an issue deleting %s: %s', name, errMsg)),\n      ),\n    );\n  }\n  function handleBulkRulesDelete(rulesToDelete: RLSObject[]) {\n    const ids = rulesToDelete.map(({ id }) => id);\n    return SupersetClient.delete({\n      endpoint: `/api/v1/rowlevelsecurity/?q=${rison.encode(ids)}`,\n    }).then(\n      () => {\n        refreshData();\n        addSuccessToast(t(`Deleted`));\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(t('There was an issue deleting rules: %s', errMsg)),\n      ),\n    );\n  }\n\n  function handleRuleModalHide() {\n    setCurrentRule(null);\n    setRuleModalOpen(false);\n    refreshData();\n  }\n\n  const canWrite = hasPerm('can_write');\n  const canEdit = hasPerm('can_write');\n  const canExport = hasPerm('can_export');\n\n  const columns = useMemo(\n    () => [\n      {\n        accessor: 'name',\n        Header: t('Name'),\n      },\n      {\n        accessor: 'filter_type',\n        Header: t('Filter Type'),\n        size: 'xl',\n      },\n      {\n        accessor: 'group_key',\n        Header: t('Group Key'),\n        size: 'xl',\n      },\n      {\n        accessor: 'clause',\n        Header: t('Clause'),\n      },\n      {\n        Cell: ({\n          row: {\n            original: {\n              changed_on_delta_humanized: changedOn,\n              changed_by: changedBy,\n            },\n          },\n        }: any) => <ModifiedInfo date={changedOn} user={changedBy} />,\n        Header: t('Last modified'),\n        accessor: 'changed_on_delta_humanized',\n        size: 'xl',\n      },\n      {\n        Cell: ({ row: { original } }: any) => {\n          const handleDelete = () =>\n            handleRuleDelete(\n              original,\n              refreshData,\n              addSuccessToast,\n              addDangerToast,\n            );\n          const handleEdit = () => handleRuleEdit(original);\n          return (\n            <Actions className=\"actions\">\n              {canWrite && (\n                <ConfirmStatusChange\n                  title={t('Please confirm')}\n                  description={\n                    <>\n                      {t('Are you sure you want to delete')}{' '}\n                      <b>{original.name}</b>\n                    </>\n                  }\n                  onConfirm={handleDelete}\n                >\n                  {confirmDelete => (\n                    <Tooltip\n                      id=\"delete-action-tooltip\"\n                      title={t('Delete')}\n                      placement=\"bottom\"\n                    >\n                      <span\n                        role=\"button\"\n                        tabIndex={0}\n                        className=\"action-button\"\n                        onClick={confirmDelete}\n                      >\n                        <Icons.Trash data-test=\"rls-list-trash-icon\" />\n                      </span>\n                    </Tooltip>\n                  )}\n                </ConfirmStatusChange>\n              )}\n              {canEdit && (\n                <Tooltip\n                  id=\"edit-action-tooltip\"\n                  title={t('Edit')}\n                  placement=\"bottom\"\n                >\n                  <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"action-button\"\n                    onClick={handleEdit}\n                  >\n                    <Icons.EditAlt data-test=\"edit-alt\" />\n                  </span>\n                </Tooltip>\n              )}\n            </Actions>\n          );\n        },\n        Header: t('Actions'),\n        id: 'actions',\n        hidden: !canEdit && !canWrite && !canExport,\n        disableSortBy: true,\n      },\n      {\n        accessor: QueryObjectColumns.ChangedBy,\n        hidden: true,\n      },\n    ],\n    [\n      user.userId,\n      canEdit,\n      canWrite,\n      canExport,\n      hasPerm,\n      refreshData,\n      addDangerToast,\n      addSuccessToast,\n    ],\n  );\n\n  const emptyState = {\n    title: t('No Rules yet'),\n    image: 'filter-results.svg',\n    buttonAction: () => handleRuleEdit(null),\n    buttonText: canEdit ? (\n      <>\n        <i className=\"fa fa-plus\" data-test=\"add-rule-empty\" /> {'Rule'}{' '}\n      </>\n    ) : null,\n  };\n\n  const filters: Filters = useMemo(\n    () => [\n      {\n        Header: t('Name'),\n        key: 'search',\n        id: 'name',\n        input: 'search',\n        operator: FilterOperator.StartsWith,\n      },\n      {\n        Header: t('Filter Type'),\n        key: 'filter_type',\n        id: 'filter_type',\n        input: 'select',\n        operator: FilterOperator.Equals,\n        unfilteredLabel: t('Any'),\n        selects: [\n          { label: t('Regular'), value: 'Regular' },\n          { label: t('Base'), value: 'Base' },\n        ],\n      },\n      {\n        Header: t('Group Key'),\n        key: 'search',\n        id: 'group_key',\n        input: 'search',\n        operator: FilterOperator.StartsWith,\n      },\n      {\n        Header: t('Modified by'),\n        key: 'changed_by',\n        id: 'changed_by',\n        input: 'select',\n        operator: FilterOperator.RelationOneMany,\n        unfilteredLabel: t('All'),\n        fetchSelects: createFetchRelated(\n          'rowlevelsecurity',\n          'changed_by',\n          createErrorHandler(errMsg =>\n            t(\n              'An error occurred while fetching dataset datasource values: %s',\n              errMsg,\n            ),\n          ),\n          user,\n        ),\n        paginate: true,\n      },\n    ],\n    [user],\n  );\n\n  const initialSort = [{ id: 'changed_on_delta_humanized', desc: true }];\n  const PAGE_SIZE = 25;\n\n  const subMenuButtons: SubMenuProps['buttons'] = [];\n\n  if (canWrite) {\n    subMenuButtons.push({\n      name: (\n        <>\n          <i className=\"fa fa-plus\" data-test=\"add-rule\" /> {t('Rule')}\n        </>\n      ),\n      buttonStyle: 'primary',\n      onClick: () => handleRuleEdit(null),\n    });\n    subMenuButtons.push({\n      name: t('Bulk select'),\n      buttonStyle: 'secondary',\n      'data-test': 'bulk-select',\n      onClick: toggleBulkSelect,\n    });\n  }\n\n  return (\n    <>\n      <SubMenu name={t('Row Level Security')} buttons={subMenuButtons} />\n      <ConfirmStatusChange\n        title={t('Please confirm')}\n        description={t('Are you sure you want to delete the selected rules?')}\n        onConfirm={handleBulkRulesDelete}\n      >\n        {confirmDelete => {\n          const bulkActions: ListViewProps['bulkActions'] = [];\n          if (canWrite) {\n            bulkActions.push({\n              key: 'delete',\n              name: t('Delete'),\n              type: 'danger',\n              onSelect: confirmDelete,\n            });\n          }\n          return (\n            <>\n              <RowLevelSecurityModal\n                rule={currentRule}\n                addDangerToast={addDangerToast}\n                onHide={handleRuleModalHide}\n                addSuccessToast={addSuccessToast}\n                show={ruleModalOpen}\n              />\n              <ListView<RLSObject>\n                className=\"rls-list-view\"\n                bulkActions={bulkActions}\n                bulkSelectEnabled={bulkSelectEnabled}\n                disableBulkSelect={toggleBulkSelect}\n                columns={columns}\n                count={rulesCount}\n                data={rules}\n                emptyState={emptyState}\n                fetchData={fetchData}\n                filters={filters}\n                initialSort={initialSort}\n                loading={loading}\n                addDangerToast={addDangerToast}\n                addSuccessToast={addSuccessToast}\n                refreshData={() => {}}\n                pageSize={PAGE_SIZE}\n              />\n            </>\n          );\n        }}\n      </ConfirmStatusChange>\n    </>\n  );\n}\n\nexport default withToasts(RowLevelSecurityList);\n","\"use strict\";\nexports.ITEM_TYPES = {\n    PAGE: 'PAGE',\n    ELLIPSIS: 'ELLIPSIS',\n    FIRST_PAGE_LINK: 'FIRST_PAGE_LINK',\n    PREVIOUS_PAGE_LINK: 'PREVIOUS_PAGE_LINK',\n    NEXT_PAGE_LINK: 'NEXT_PAGE_LINK',\n    LAST_PAGE_LINK: 'LAST_PAGE_LINK'\n};\nexports.ITEM_KEYS = {\n    FIRST_ELLIPSIS: -1,\n    SECOND_ELLIPSIS: -2,\n    FIRST_PAGE_LINK: -3,\n    PREVIOUS_PAGE_LINK: -4,\n    NEXT_PAGE_LINK: -5,\n    LAST_PAGE_LINK: -6\n};\n//# sourceMappingURL=ultimate-pagination-constants.js.map","\"use strict\";\nvar ultimate_pagination_constants_1 = require(\"./ultimate-pagination-constants\");\nexports.createFirstEllipsis = function (pageNumber) {\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.ELLIPSIS,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.FIRST_ELLIPSIS,\n        value: pageNumber,\n        isActive: false\n    };\n};\nexports.createSecondEllipsis = function (pageNumber) {\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.ELLIPSIS,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.SECOND_ELLIPSIS,\n        value: pageNumber,\n        isActive: false\n    };\n};\nexports.createFirstPageLink = function (options) {\n    var currentPage = options.currentPage;\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.FIRST_PAGE_LINK,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.FIRST_PAGE_LINK,\n        value: 1,\n        isActive: currentPage === 1\n    };\n};\nexports.createPreviousPageLink = function (options) {\n    var currentPage = options.currentPage;\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.PREVIOUS_PAGE_LINK,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.PREVIOUS_PAGE_LINK,\n        value: Math.max(1, currentPage - 1),\n        isActive: currentPage === 1\n    };\n};\nexports.createNextPageLink = function (options) {\n    var currentPage = options.currentPage, totalPages = options.totalPages;\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.NEXT_PAGE_LINK,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.NEXT_PAGE_LINK,\n        value: Math.min(totalPages, currentPage + 1),\n        isActive: currentPage === totalPages\n    };\n};\nexports.createLastPageLink = function (options) {\n    var currentPage = options.currentPage, totalPages = options.totalPages;\n    return {\n        type: ultimate_pagination_constants_1.ITEM_TYPES.LAST_PAGE_LINK,\n        key: ultimate_pagination_constants_1.ITEM_KEYS.LAST_PAGE_LINK,\n        value: totalPages,\n        isActive: currentPage === totalPages\n    };\n};\nexports.createPageFunctionFactory = function (options) {\n    var currentPage = options.currentPage;\n    return function (pageNumber) {\n        return {\n            type: ultimate_pagination_constants_1.ITEM_TYPES.PAGE,\n            key: pageNumber,\n            value: pageNumber,\n            isActive: pageNumber === currentPage\n        };\n    };\n};\n//# sourceMappingURL=ultimate-pagination-item-factories.js.map","\"use strict\";\nfunction createRange(start, end) {\n    var range = [];\n    for (var i = start; i <= end; i++) {\n        range.push(i);\n    }\n    return range;\n}\nexports.createRange = createRange;\n//# sourceMappingURL=ultimate-pagination-utils.js.map","\"use strict\";\nvar ultimate_pagination_utils_1 = require(\"./ultimate-pagination-utils\");\nvar ultimate_pagination_item_factories_1 = require(\"./ultimate-pagination-item-factories\");\nfunction getPaginationModel(options) {\n    if (options == null) {\n        throw new Error('getPaginationModel(): options object should be a passed');\n    }\n    var totalPages = Number(options.totalPages);\n    if (isNaN(totalPages)) {\n        throw new Error('getPaginationModel(): totalPages should be a number');\n    }\n    if (totalPages < 0) {\n        throw new Error('getPaginationModel(): totalPages shouldn\\'t be a negative number');\n    }\n    var currentPage = Number(options.currentPage);\n    if (isNaN(currentPage)) {\n        throw new Error('getPaginationModel(): currentPage should be a number');\n    }\n    if (currentPage < 0) {\n        throw new Error('getPaginationModel(): currentPage shouldn\\'t be a negative number');\n    }\n    if (currentPage > totalPages) {\n        throw new Error('getPaginationModel(): currentPage shouldn\\'t be greater than totalPages');\n    }\n    var boundaryPagesRange = (options.boundaryPagesRange == null ? 1 : Number(options.boundaryPagesRange));\n    if (isNaN(boundaryPagesRange)) {\n        throw new Error('getPaginationModel(): boundaryPagesRange should be a number');\n    }\n    if (boundaryPagesRange < 0) {\n        throw new Error('getPaginationModel(): boundaryPagesRange shouldn\\'t be a negative number');\n    }\n    var siblingPagesRange = (options.siblingPagesRange == null ? 1 : Number(options.siblingPagesRange));\n    if (isNaN(siblingPagesRange)) {\n        throw new Error('getPaginationModel(): siblingPagesRange should be a number');\n    }\n    if (siblingPagesRange < 0) {\n        throw new Error('getPaginationModel(): siblingPagesRange shouldn\\'t be a negative number');\n    }\n    var hidePreviousAndNextPageLinks = Boolean(options.hidePreviousAndNextPageLinks);\n    var hideFirstAndLastPageLinks = Boolean(options.hideFirstAndLastPageLinks);\n    var hideEllipsis = Boolean(options.hideEllipsis);\n    var ellipsisSize = (hideEllipsis ? 0 : 1);\n    var paginationModel = [];\n    var createPage = ultimate_pagination_item_factories_1.createPageFunctionFactory(options);\n    if (!hideFirstAndLastPageLinks) {\n        paginationModel.push(ultimate_pagination_item_factories_1.createFirstPageLink(options));\n    }\n    if (!hidePreviousAndNextPageLinks) {\n        paginationModel.push(ultimate_pagination_item_factories_1.createPreviousPageLink(options));\n    }\n    // Simplify generation of pages if number of available items is equal or greater than total pages to show\n    if (1 + 2 * ellipsisSize + 2 * siblingPagesRange + 2 * boundaryPagesRange >= totalPages) {\n        var allPages = ultimate_pagination_utils_1.createRange(1, totalPages).map(createPage);\n        paginationModel.push.apply(paginationModel, allPages);\n    }\n    else {\n        // Calculate group of first pages\n        var firstPagesStart = 1;\n        var firstPagesEnd = boundaryPagesRange;\n        var firstPages = ultimate_pagination_utils_1.createRange(firstPagesStart, firstPagesEnd).map(createPage);\n        // Calculate group of last pages\n        var lastPagesStart = totalPages + 1 - boundaryPagesRange;\n        var lastPagesEnd = totalPages;\n        var lastPages = ultimate_pagination_utils_1.createRange(lastPagesStart, lastPagesEnd).map(createPage);\n        // Calculate group of main pages\n        var mainPagesStart = Math.min(Math.max(currentPage - siblingPagesRange, firstPagesEnd + ellipsisSize + 1), lastPagesStart - ellipsisSize - 2 * siblingPagesRange - 1);\n        var mainPagesEnd = mainPagesStart + 2 * siblingPagesRange;\n        var mainPages = ultimate_pagination_utils_1.createRange(mainPagesStart, mainPagesEnd).map(createPage);\n        // Add group of first pages\n        paginationModel.push.apply(paginationModel, firstPages);\n        if (!hideEllipsis) {\n            // Calculate and add ellipsis before group of main pages\n            var firstEllipsisPageNumber = mainPagesStart - 1;\n            var showPageInsteadOfFirstEllipsis = (firstEllipsisPageNumber === firstPagesEnd + 1);\n            var createFirstEllipsisOrPage = showPageInsteadOfFirstEllipsis ? createPage : ultimate_pagination_item_factories_1.createFirstEllipsis;\n            var firstEllipsis = createFirstEllipsisOrPage(firstEllipsisPageNumber);\n            paginationModel.push(firstEllipsis);\n        }\n        // Add group of main pages\n        paginationModel.push.apply(paginationModel, mainPages);\n        if (!hideEllipsis) {\n            // Calculate and add ellipsis after group of main pages\n            var secondEllipsisPageNumber = mainPagesEnd + 1;\n            var showPageInsteadOfSecondEllipsis = (secondEllipsisPageNumber === lastPagesStart - 1);\n            var createSecondEllipsisOrPage = showPageInsteadOfSecondEllipsis ? createPage : ultimate_pagination_item_factories_1.createSecondEllipsis;\n            var secondEllipsis = createSecondEllipsisOrPage(secondEllipsisPageNumber);\n            paginationModel.push(secondEllipsis);\n        }\n        // Add group of last pages\n        paginationModel.push.apply(paginationModel, lastPages);\n    }\n    if (!hidePreviousAndNextPageLinks) {\n        paginationModel.push(ultimate_pagination_item_factories_1.createNextPageLink(options));\n    }\n    if (!hideFirstAndLastPageLinks) {\n        paginationModel.push(ultimate_pagination_item_factories_1.createLastPageLink(options));\n    }\n    return paginationModel;\n}\nexports.getPaginationModel = getPaginationModel;\nvar ultimate_pagination_constants_1 = require(\"./ultimate-pagination-constants\");\nexports.ITEM_TYPES = ultimate_pagination_constants_1.ITEM_TYPES;\nexports.ITEM_KEYS = ultimate_pagination_constants_1.ITEM_KEYS;\n//# sourceMappingURL=ultimate-pagination.js.map"],"names":["exports","undefined","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react2","_interopRequireDefault","_propTypes2","_ultimatePagination","obj","__esModule","default","_ref2","itemTypeToComponent","_ref2$WrapperComponen","WrapperComponent","UltimatePaginationComponent","props","currentPage","totalPages","boundaryPagesRange","siblingPagesRange","hideEllipsis","hidePreviousAndNextPageLinks","hideFirstAndLastPageLinks","onChange","disabled","restProps","keys","indexOf","_objectWithoutProperties","paginationModel","getPaginationModel","renderItemComponent","_ref","value","isDisabled","ItemComponent","type","onItemClick","createElement","onClick","renderItemComponentFunctionFactory","map","itemModel","propTypes","number","isRequired","bool","func","ITEM_TYPES","ModifiedInfo","user","date","dateSpan","_jsx","className","children","userName","getOwnerName","title","t","Tooltip","placement","FILTER_OPTIONS","label","FilterType","noMargins","css","StyledModal","styled","Modal","StyledIcon","theme","gridUnit","colors","grayscale","base","StyledSectionContainer","div","typography","sizes","s","StyledInputContainer","error","StyledTextArea","TextArea","DEAFULT_RULE","name","filter_type","Regular","tables","roles","clause","group_key","description","rule","addDangerToast","addSuccessToast","onHide","show","currentRule","setCurrentRule","useState","disableSave","setDisableSave","isEditMode","state","loading","resource","fetchError","fetchResource","createResource","updateResource","clearError","useSingleViewResource","updateRuleState","currentRuleData","getSelectedData","useCallback","_resource$tables","_resource$roles","forEach","selectedTable","push","id","schema","table_name","selectedRole","useEffect","selectedTableAndRoles","currentRuleSafe","validate","_currentRule$tables","onTextChange","hide","loadTableOptions","useMemo","input","page","pageSize","query","rison","filter","page_size","SupersetClient","get","endpoint","then","response","data","json","result","item","text","totalCount","count","loadRoleOptions","responsive","primaryButtonName","disablePrimaryButton","onHandledPrimaryAction","onSave","_currentRule$tables2","_currentRule$roles","table","role","updateId","width","maxWidth","_jsxs","Icons","EditAlt","PlusLarge","LabeledErrorBoundInput","required","validationMethods","tooltipText","hasTooltip","InfoTooltip","tooltip","Select","ariaLabel","placeholder","options","AsyncSelect","mode","Base","rows","event","Actions","withToasts","ruleModalOpen","setRuleModalOpen","resourceCount","rulesCount","resourceCollection","rules","bulkSelectEnabled","hasPerm","fetchData","refreshData","toggleBulkSelect","useListViewResource","handleRuleEdit","handleRuleModalHide","canWrite","canEdit","canExport","columns","accessor","Header","size","Cell","row","original","changed_on_delta_humanized","changedOn","changed_by","changedBy","ConfirmStatusChange","_Fragment","onConfirm","handleDelete","delete","createErrorHandler","errMsg","handleRuleDelete","confirmDelete","tabIndex","Trash","handleEdit","hidden","disableSortBy","QueryObjectColumns","ChangedBy","userId","emptyState","image","buttonAction","buttonText","filters","operator","FilterOperator","StartsWith","Equals","unfilteredLabel","selects","RelationOneMany","fetchSelects","createFetchRelated","paginate","initialSort","desc","subMenuButtons","buttonStyle","SubMenu","buttons","rulesToDelete","ids","bulkActions","onSelect","RowLevelSecurityModal","ListView","disableBulkSelect","PAGE","ELLIPSIS","FIRST_PAGE_LINK","PREVIOUS_PAGE_LINK","NEXT_PAGE_LINK","LAST_PAGE_LINK","ITEM_KEYS","FIRST_ELLIPSIS","SECOND_ELLIPSIS","ultimate_pagination_constants_1","createFirstEllipsis","pageNumber","isActive","createSecondEllipsis","createFirstPageLink","createPreviousPageLink","Math","max","createNextPageLink","min","createLastPageLink","createPageFunctionFactory","createRange","start","end","range","ultimate_pagination_utils_1","ultimate_pagination_item_factories_1","Error","Number","isNaN","Boolean","ellipsisSize","createPage","allPages","apply","firstPagesEnd","firstPages","lastPagesStart","lastPagesEnd","lastPages","mainPagesStart","mainPagesEnd","mainPages","firstEllipsisPageNumber","firstEllipsis","secondEllipsisPageNumber","secondEllipsis"],"sourceRoot":""}